var e=Object.defineProperty,o=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,n=(o,t,l)=>t in o?e(o,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[t]=l,u=(e,o)=>{for(var t in o||(o={}))a.call(o,t)&&n(e,t,o[t]);if(l)for(var t of l(o))s.call(o,t)&&n(e,t,o[t]);return e},c=(e,l)=>o(e,t(l));import{a2 as r,a3 as i,a4 as d,d as p,r as f,a5 as m,C as v,ab as _,D as w,au as h,b as y,c as $,w as x,e as b,n as C,x as k,H as g,i as O,_ as S,av as V,aw as j,ax as E,a7 as P,ay as A,az as Q,aA as I,aB as M,aC as F,aD as T,v as Y,f as L,t as U,E as X,q as z,F as B,s as D,u as H,M as q,Z as G,j as W,aE as J,aF as K,o as N,J as Z,k as R,T as ee}from"./index-6e705c16.js";const oe=c(u({},r),{value:i(!1),closePosition:d("inset"),src:String,to:String,width:Number,closeOnClickModal:i(!1),hideWhenClose:i(!0)}),te=S(p(c(u({},{name:"wd-curtain",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:oe,emits:["beforeenter","enter","afterenter","beforeleave","leave","afterleave","close","closed","click-modal","load","error","click"],setup(e,{emit:o}){const t=e,l=o,a=f(!1),s=f(!0),n=f(""),u=f(1);function c(){let e="";t.width&&(e+=`width: ${t.width}px ;`,e+=`height: ${t.width/u.value}px`),n.value=e}function r(){l("beforeenter")}function i(){l("enter")}function d(){l("afterenter")}function p(){l("beforeleave")}function S(){l("leave")}function V(){l("afterleave"),l("closed")}function j(){a.value=!1,l("close")}function E(){l("click-modal")}function P(e){const{height:o,width:t}=e.detail;u.value=t/o,s.value=!0,c(),l("load")}function A(){s.value=!1,l("error")}function Q(){t.to&&k({url:t.to}),l("click"),j()}return m((()=>t.value),(()=>{t.value&&s.value?a.value=!0:(a.value=!1,j())}),{deep:!0,immediate:!0}),m((()=>t.width),(()=>{c()}),{deep:!0,immediate:!0}),(e,o)=>{const t=g,l=v(w("wd-icon"),_),s=O,u=v(w("wd-popup"),h);return y(),$(s,null,{default:x((()=>[b(u,{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=e=>a.value=e),transition:"zoom-in",position:"center","close-on-click-modal":e.closeOnClickModal,"hide-when-close":e.hideWhenClose,onBeforeEnter:r,onEnter:i,onAfterEnter:d,onBeforeLeave:p,onLeave:S,onAfterLeave:V,onClose:j,onClickModal:E,"custom-class":`wd-curtain ${e.customClass}`,"custom-style":e.customStyle},{default:x((()=>[b(s,{class:"wd-curtain__content"},{default:x((()=>[b(t,{src:e.src,class:"wd-curtain__content-img",style:C(n.value),onClick:Q,onError:A,onLoad:P},null,8,["src","style"]),b(l,{name:"close-outline",size:"24px","custom-class":`wd-curtain__content-close ${e.closePosition}`,onClick:j},null,8,["custom-class"])])),_:1})])),_:1},8,["modelValue","close-on-click-modal","hide-when-close","custom-class","custom-style"])])),_:1})}}})),[["__scopeId","data-v-6a79eb13"]]);let le=[];const ae="__QUEUE_KEY__";const se=c(u({},r),{customArrow:d(""),customPop:d(""),visibleArrow:i(!0),content:[String,Object],placement:d("bottom"),offset:P(0),useContentSlot:i(!1),disabled:i(!1),showClose:i(!1),modelValue:i(!1),mode:d("normal")}),ne=S(p(c(u({},{name:"wd-popover",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:se,emits:["update:modelValue","menuclick","change","open","close"],setup(e,{expose:o,emit:t}){const l=e,a=t,s=A(ae,null),{proxy:n}=j();m((()=>l.content),(e=>{const{mode:o}=l;"normal"===o&&"string"!=typeof e||"menu"===o&&Q(e)})),m((()=>l.modelValue),(e=>{var o;e&&(u.control(l.placement,l.offset),s&&s.closeOther?s.closeOther(n):(o=n,le.forEach((e=>{e.$.uid!==o.$.uid&&e.$.exposed.close()})))),u.showStyle.value=e?"display: inline-block;":"display: none;",a("change",{show:e}),a(""+(e?"open":"close"))})),I((()=>{u.init(l.placement,l.visibleArrow,"popover")})),M((()=>{var e;s&&s.pushToQueue?s.pushToQueue(n):(e=n,le.push(e)),u.showStyle.value=l.modelValue?"opacity: 1;":"opacity: 0;"})),F((()=>{var e;s&&s.removeFromQueue?s.removeFromQueue(n):(e=n,le=le.filter((o=>o.$.uid!==e.$.uid)))}));const u=function(){const{proxy:e}=j(),o=f(""),t=f(""),l=f(""),a=f(""),s=f(0),n=f(0),u=f(0),c=f(0),r=f(0),i=f(0),d=f(0);return{popStyle:o,arrowStyle:t,showStyle:l,arrowClass:a,init:function(o,t,l){if(t){const e=[`wd-${l}__arrow`,"bottom"===o||"bottom-start"===o||"bottom-end"===o?`wd-${l}__arrow-up`:"","left"===o||"left-start"===o||"left-end"===o?`wd-${l}__arrow-right`:"","right"===o||"right-start"===o||"right-end"===o?`wd-${l}__arrow-left`:"","top"===o||"top-start"===o||"top-end"===o?`wd-${l}__arrow-down`:""];a.value=e.join(" ")}V("#target",!1,e).then((e=>{e&&(u.value=e.left,c.value=e.bottom,r.value=e.width,i.value=e.height,d.value=e.top)})),V("#pos",!1,e).then((e=>{e&&(s.value=e.width,n.value=e.height)}))},control:function(e,l){const a=r.value/2,u=9+i.value+5,c=r.value+9+5,d=i.value/2,p=(a-17>0?0:a-25)+l,f=(d-17>0?0:d-25)+l,m=new Map([["top",[`left: ${a}px; bottom: ${u}px; transform: translateX(-50%);`,"left: 50%;"]],["top-start",[`left: ${p}px; bottom: ${u}px;`,`left: ${(s.value>=r.value?r.value/2:s.value-25)-p}px;`]],["top-end",[`right: ${p}px; bottom: ${u}px;`,`right: ${(s.value>=r.value?r.value/2:s.value-25)-p}px; transform: translateX(50%);`]],["bottom",[`left: ${a}px; top: ${u}px; transform: translateX(-50%);`,"left: 50%;"]],["bottom-start",[`left: ${p}px; top: ${u}px;`,`left: ${(s.value>=r.value?r.value/2:s.value-25)-p}px;`]],["bottom-end",[`right: ${p}px; top: ${u}px;`,`right: ${(s.value>=r.value?r.value/2:s.value-25)-p}px; transform: translateX(50%);`]],["left",[`right: ${c}px; top: ${d}px; transform: translateY(-50%);`,"top: 50%"]],["left-start",[`right: ${c}px; top: ${f}px;`,`top: ${(n.value>=i.value?i.value/2:n.value-20)-f}px;`]],["left-end",[`right: ${c}px; bottom: ${f}px;`,`bottom: ${(n.value>=i.value?i.value/2:n.value-20)-f}px; transform: translateY(50%);`]],["right",[`left: ${c}px; top: ${d}px; transform: translateY(-50%);`,"top: 50%"]],["right-start",[`left: ${c}px; top: ${f}px;`,`top: ${(n.value>=i.value?i.value/2:n.value-20)-f}px;`]],["right-end",[`left: ${c}px; bottom: ${f}px;`,`bottom: ${(n.value>=i.value?i.value/2:n.value-20)-f}px; transform: translateY(50%);`]]]);o.value=m.get(e)[0],t.value=m.get(e)[1]},noop:function(){}}}();function c(e){a("update:modelValue",!1),a("menuclick",{item:l.content[e],index:e})}function r(){l.disabled||a("update:modelValue",!l.modelValue)}return o({open:function(){a("update:modelValue",!0)},close:function(){a("update:modelValue",!1)}}),(e,o)=>{const t=O,a=v(w("wd-icon"),_),s=W,n=v(w("wd-transition"),T);return y(),$(t,{class:Y(`wd-popover ${e.customClass}`),style:C(e.customStyle),id:"popover",onClick:G(H(u).noop,["stop"])},{default:x((()=>[b(t,{class:"wd-popover__pos wd-popover__hidden",id:"pos"},{default:x((()=>[b(t,{class:Y(`wd-popover__container ${e.customPop}`)},{default:x((()=>[e.useContentSlot||"normal"!==e.mode?X("",!0):(y(),$(t,{key:0,class:"wd-popover__inner"},{default:x((()=>[L(U(e.content),1)])),_:1})),e.useContentSlot||"menu"!==e.mode||"object"!=typeof e.content?X("",!0):(y(),$(t,{key:1,class:"wd-popover__menu"},{default:x((()=>[(y(!0),z(B,null,D(e.content,((e,o)=>(y(),$(t,{key:o,class:"wd-popover__menu-inner",onClick:e=>c(o)},{default:x((()=>[e.iconClass?(y(),$(a,{key:0,name:e.iconClass,"custom-class":"wd-popover__icon"},null,8,["name"])):X("",!0),b(s,null,{default:x((()=>[L(U(e.content),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}))])),_:1},8,["class"])])),_:1}),b(n,{"custom-class":"wd-popover__pos","custom-style":H(u).popStyle.value,show:e.modelValue,name:"fade",duration:200},{default:x((()=>[b(t,{class:Y(`wd-popover__container ${e.customPop}`)},{default:x((()=>[l.visibleArrow?(y(),$(t,{key:0,class:Y(`wd-popover__arrow ${H(u).arrowClass.value} ${e.customArrow}`),style:C(H(u).arrowStyle.value)},null,8,["class","style"])):X("",!0),e.useContentSlot||"normal"!==e.mode?X("",!0):(y(),$(t,{key:1,class:"wd-popover__inner"},{default:x((()=>[L(U(e.content),1)])),_:1})),e.useContentSlot||"menu"!==e.mode?q(e.$slots,"content",{key:3},void 0,!0):(y(),$(t,{key:2,class:"wd-popover__menu"},{default:x((()=>[(y(!0),z(B,null,D(e.content,((e,o)=>(y(),$(t,{key:o,class:"wd-popover__menu-inner",onClick:e=>c(o),style:C(0===o?"border-top: none":"")},{default:x((()=>["object"==typeof e&&e.iconClass?(y(),$(a,{key:0,name:e.iconClass,"custom-class":"wd-popover__icon"},null,8,["name"])):X("",!0),b(t,{style:{display:"inline-block"}},{default:x((()=>[L(U("object"==typeof e&&e.content?e.content:""),1)])),_:2},1024)])),_:2},1032,["onClick","style"])))),128))])),_:1}))])),_:3},8,["class"]),e.showClose?(y(),$(a,{key:0,name:"close","custom-class":"wd-popover__close-icon",onClick:r})):X("",!0)])),_:3},8,["custom-style","show"]),b(t,{onClick:r,class:"wd-popover__target",id:"target"},{default:x((()=>[q(e.$slots,"default",{},void 0,!0)])),_:3})])),_:3},8,["class","style","onClick"])}}})),[["__scopeId","data-v-846b204c"]]),ue=S(p({__name:"wot",setup(e){const{closeOutside:o}=function(){const e=f([]);function o(o){e.value.forEach((e=>{e.$.uid!==o.$.uid&&e.$.exposed.close()}))}function t(){e.value.forEach((e=>{e.$.exposed.close()}))}return E(ae,{queue:e,pushToQueue:function(o){e.value.push(o)},removeFromQueue:function(o){e.value=e.value.filter((e=>e.$.uid!==o.$.uid))},closeOther:o,closeOutside:t}),{closeOther:o,closeOutside:t}}(),t=J(),l=K(),a=f(!1);function s({show:e}){}const n=()=>{t.show("显示隐藏切换")},u=()=>{l.success("uglyp哈哈哈哈")},c=f(!1);function r(){c.value=!0}function i(){c.value=!1}const d=f("add-circle");return N((()=>{setTimeout((()=>{d.value="check"}),1e3)})),(e,t)=>{const l=v(w("wd-button"),ee),p=O,f=v(w("wd-curtain"),te),m=v(w("wd-icon"),_),h=v(w("wd-popover"),ne),C=R("layout-demo-uni");return y(),$(C,null,{default:x((()=>[b(p,{class:"center pt-4 flex-col"},{default:x((()=>[b(l,null,{default:x((()=>[L("主要按钮")])),_:1}),b(l,{type:"success"},{default:x((()=>[L("成功按钮")])),_:1}),b(l,{type:"info"},{default:x((()=>[L("信息按钮")])),_:1}),b(l,{type:"warning"},{default:x((()=>[L("警告按钮")])),_:1}),b(l,{type:"error"},{default:x((()=>[L("危险按钮")])),_:1}),b(p,{class:"h-10"}),b(l,{onClick:r},{default:x((()=>[L("展示幕帘")])),_:1}),b(f,{value:H(c),width:300,src:"https://via.placeholder.com/400x200.png/3c9cff/fff",onClose:i},null,8,["value"]),b(p,{class:"mt-4"},{default:x((()=>[L(" 可以通过 unocss class 类改颜色，也可以通过 color 属性修改颜色，同时存在时以 color 为优先 ")])),_:1}),b(p,{class:"mt-4"},{default:x((()=>[L(" 可以通过 unocss class 类改颜色，也可以通过 color 属性修改颜色，同时存在时以 color 为优先 ")])),_:1}),b(p,{class:"flex m-4"},{default:x((()=>[b(m,{name:"add-circle"}),b(m,{name:"add-circle",color:"red"}),b(m,{class:"text-green",name:"add-circle"}),b(m,{class:"text-green",name:"add-circle",color:"red"}),b(m,{class:"text-green w-10 h-10",name:"add-circle",color:"red"}),b(m,{name:H(d)},null,8,["name"])])),_:1}),b(p,{onClick:H(o),class:"mt-4"},{default:x((()=>[b(h,{modelValue:H(a),"onUpdate:modelValue":t[0]||(t[0]=e=>Z(a)?a.value=e:null),content:"popover content",onChange:s},{default:x((()=>[b(l,null,{default:x((()=>[L("点击展示")])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["onClick"]),b(p,{class:"mt-4"},{default:x((()=>[b(l,{onClick:n},{default:x((()=>[L("点击显示Modal")])),_:1}),b(l,{onClick:u},{default:x((()=>[L("点击显示toast")])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-9f423391"]]);export{ue as default};
