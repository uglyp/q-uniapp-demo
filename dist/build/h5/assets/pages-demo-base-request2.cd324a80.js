import{r as a,o as e,d as t,b as l,c as s,w as u,e as d,f as n,h as r,t as c,u as o,q as i,F as f,i as _,C as y,D as m,T as p,E as x,H as g,_ as k,k as h}from"./index-6e705c16.js";import{g as v,p as b}from"./foo.2dc129cb.js";import{u as C}from"./useUpload.4aeb5044.js";import"./http.2c593a47.js";function w(t,l={immediate:!0}){const s=a(!1),u=a(!1),d=a(l.initialData),n=()=>{return a=this,e=null,l=function*(){s.value=!0,t().then((a=>{d.value=a.data,u.value=!1})).catch((a=>{u.value=a})).finally((()=>{s.value=!1}))},new Promise(((t,s)=>{var u=a=>{try{n(l.next(a))}catch(e){s(e)}},d=a=>{try{n(l.throw(a))}catch(e){s(e)}},n=a=>a.done?t(a.value):Promise.resolve(a.value).then(u,d);n((l=l.apply(a,e)).next())}));var a,e,l};return e((()=>{l.immediate&&n()})),{loading:s,error:u,data:d,run:n}}const j=t({__name:"request",setup(e){const t=a("http://laf.run/signup?code=ohaOgIX"),x=void 0,{loading:g,error:k,data:h,run:b}=w((()=>v("uglyp")),{initialData:x}),C=()=>{h.value=x};return(a,e)=>{const x=_,k=y(m("wd-button"),p);return l(),s(x,{class:"p-6 text-center"},{default:u((()=>[d(x,{class:"my-2"},{default:u((()=>[n("使用的是 laf 云后台")])),_:1}),d(x,{class:"text-green-400"},{default:u((()=>[n("我的推荐码，可以获得佣金")])),_:1}),d(x,{class:"my-2"},{default:u((()=>[r("a",{class:"my-2",href:o(t),target:"_blank"},c(o(t)),9,["href"])])),_:1}),d(k,{onClick:o(b),class:"my-6"},{default:u((()=>[n("发送请求")])),_:1},8,["onClick"]),d(x,{class:"h-12"},{default:u((()=>[o(g)?(l(),s(x,{key:0},{default:u((()=>[n("loading...")])),_:1})):(l(),i(f,{key:1},[d(x,{class:"text-xl"},{default:u((()=>[n("请求数据如下")])),_:1}),d(x,{class:"text-green leading-8"},{default:u((()=>[n(c(JSON.stringify(o(h))),1)])),_:1})],64))])),_:1}),d(k,{type:"error",onClick:C,class:"my-6",disabled:!o(h)},{default:u((()=>[n("重置数据")])),_:1},8,["disabled"])])),_:1})}}}),q=t({__name:"request2",setup(a){const{loading:e,error:t,data:r,run:x}=w((()=>v("uglyp"))),{loading:g,error:k,data:h,run:C}=w((()=>b("uglyp嘿嘿"))),j=()=>{r.value=void 0,h.value=void 0},q=()=>{x(),C()};return(a,t)=>{const k=y(m("wd-button"),p),v=_;return l(),s(v,{class:"p-6 text-center"},{default:u((()=>[d(k,{onClick:o(x),class:"my-6"},{default:u((()=>[n("发送请求")])),_:1},8,["onClick"]),d(v,{class:"h-12"},{default:u((()=>[o(e)?(l(),s(v,{key:0},{default:u((()=>[n("loading...")])),_:1})):(l(),i(f,{key:1},[d(v,{class:"text-xl"},{default:u((()=>[n("请求数据如下")])),_:1}),d(v,{class:"text-green leading-8"},{default:u((()=>[n(c(JSON.stringify(o(r))),1)])),_:1})],64))])),_:1}),d(k,{onClick:o(C),class:"my-6"},{default:u((()=>[n("发送请求2")])),_:1},8,["onClick"]),d(v,{class:"h-12"},{default:u((()=>[o(g)?(l(),s(v,{key:0},{default:u((()=>[n("loading...")])),_:1})):(l(),i(f,{key:1},[d(v,{class:"text-xl"},{default:u((()=>[n("请求数据如下")])),_:1}),d(v,{class:"text-green leading-8"},{default:u((()=>[n(c(JSON.stringify(o(h))),1)])),_:1})],64))])),_:1}),d(k,{type:"error",onClick:j,class:"my-6",disabled:!o(r)||!o(h)},{default:u((()=>[n(" 重置数据 ")])),_:1},8,["disabled"]),d(k,{type:"success",onClick:q,class:"my-6 ml-2",disabled:!!o(r)||!!o(h)},{default:u((()=>[n(" 同时发送请求 ")])),_:1},8,["disabled"])])),_:1})}}}),O=k(t({__name:"upload",setup(a){const{loading:e,data:t,run:r}=C({user:"uglyp"});return(a,k)=>{const h=y(m("wd-button"),p),v=_,b=g;return l(),s(v,{class:"p-4 text-center"},{default:u((()=>[d(h,{onClick:o(r)},{default:u((()=>[n("选择图片并上传")])),_:1},8,["onClick"]),o(e)?(l(),s(v,{key:0,class:"text-blue h-10"},{default:u((()=>[n("上传...")])),_:1})):(l(),i(f,{key:1},[d(v,{class:"m-2"},{default:u((()=>[n("上传后返回的接口数据：")])),_:1}),d(v,{class:"m-2"},{default:u((()=>[n(c(o(t)),1)])),_:1}),d(v,{class:"h-80 w-full"},{default:u((()=>[o(t)?(l(),s(b,{key:0,src:o(t)||o(t),mode:"scaleToFill"},null,8,["src"])):x("",!0)])),_:1})],64))])),_:1})}}}),[["__scopeId","data-v-54e99fbb"]]),D=t({__name:"request2",setup:a=>(a,e)=>{const t=_,r=h("layout-demo-uni");return l(),s(r,null,{default:u((()=>[d(t,{class:"mt-6"},{default:u((()=>[d(t,{class:"text-2xl my-2 text-red-600"},{default:u((()=>[n("1-普通请求")])),_:1}),d(j),d(t,{class:"text-2xl my-2 text-red-600"},{default:u((()=>[n("2-上传图片")])),_:1}),d(O),d(t,{class:"text-2xl my-2 text-red-600"},{default:u((()=>[n("3-并发请求")])),_:1}),d(q)])),_:1})])),_:1})}});export{D as default};
