var t=Object.defineProperty,e=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(e,i,s)=>i in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s,r=(t,r)=>{for(var a in r||(r={}))i.call(r,a)&&o(t,a,r[a]);if(e)for(var a of e(r))s.call(r,a)&&o(t,a,r[a]);return t},a=(t,e,i)=>new Promise(((s,o)=>{var r=t=>{try{n(i.next(t))}catch(e){o(e)}},a=t=>{try{n(i.throw(t))}catch(e){o(e)}},n=t=>t.done?s(t.value):Promise.resolve(t.value).then(r,a);n((i=i.apply(t,e)).next())}));import{_ as n}from"./uv-button.c96d7ee2.js";import{_ as l,af as d,ag as h,ah as u,ai as c,aj as g,b as m,c as p,w as f,e as v,n as y,E as b,M as k,f as w,t as C,Z as I,v as S,ak as O,i as x,H as T,j as A,al as D,am as B,an as L,x as P,ao as z,k as E,q as N,F as M,s as j,ap as R,aq as Y,g as q,ar as F,Y as G,as as H,d as W,r as _,l as X,o as K,u as J,C as Z,D as Q,y as V}from"./index-6e705c16.js";import{_ as U}from"./uv-icon.7f5e9179.js";import{_ as $}from"./uv-popup.dedf142c.js";const tt={props:{value:{type:[String,Number]},options:{type:Object,default:()=>({})},size:{type:[String,Number],default:200},fileType:{type:String,default:"png"},start:{type:Boolean,default:!0},auto:{type:Boolean,default:!0},hide:{type:Boolean,default:!1},type:{type:String,default:()=>"normal"},queue:{type:Boolean,default:!1},isQueueLoadImage:{type:Boolean,default:!1},loading:{type:Boolean,default:void 0},h5SaveIsDownload:{type:Boolean,default:!1},h5DownloadName:{type:String,default:"uvQRCode"},h5SaveTip:{type:Boolean,default:!0}}};function et(t){this.mode=st.MODE_8BIT_BYTE,this.data=t}function it(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}et.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},it.prototype={addData:function(t){var e=new et(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=dt.getRSBlocks(t,this.errorCorrectLevel),i=new ht,s=0,o=0;o<e.length;o++)s+=e[o].dataCount;for(o=0;o<this.dataList.length;o++){var r=this.dataList[o];i.put(r.mode,4),i.put(r.getLength(),rt.getLengthInBits(r.mode,t)),r.write(i)}if(i.getLengthInBits()<=8*s)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var s=0;s<this.moduleCount;s++)this.modules[i][s]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=it.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var i=-1;i<=7;i++)if(!(t+i<=-1||this.moduleCount<=t+i))for(var s=-1;s<=7;s++)e+s<=-1||this.moduleCount<=e+s||(this.modules[t+i][e+s]=0<=i&&i<=6&&(0==s||6==s)||0<=s&&s<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=s&&s<=4)},getBestMaskPattern:function(){for(var t=0,e=0,i=0;i<8;i++){this.makeImpl(!0,i);var s=rt.getLostPoint(this);(0==i||t>s)&&(t=s,e=i)}return e},createMovieClip:function(t,e,i){var s=t.createEmptyMovieClip(e,i);this.make();for(var o=0;o<this.modules.length;o++)for(var r=1*o,a=0;a<this.modules[o].length;a++){var n=1*a;this.modules[o][a]&&(s.beginFill(0,100),s.moveTo(n,r),s.lineTo(n+1,r),s.lineTo(n+1,r+1),s.lineTo(n,r+1),s.endFill())}return s},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=rt.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var s=t[e],o=t[i];if(null==this.modules[s][o])for(var r=-2;r<=2;r++)for(var a=-2;a<=2;a++)this.modules[s+r][o+a]=-2==r||2==r||-2==a||2==a||0==r&&0==a}},setupTypeNumber:function(t){for(var e=rt.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var s=!t&&1==(e>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=s}for(i=0;i<18;i++)s=!t&&1==(e>>i&1),this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=s},setupTypeInfo:function(t,e){for(var i=this.errorCorrectLevel<<3|e,s=rt.getBCHTypeInfo(i),o=0;o<15;o++){var r=!t&&1==(s>>o&1);o<6?this.modules[o][8]=r:o<8?this.modules[o+1][8]=r:this.modules[this.moduleCount-15+o][8]=r}for(o=0;o<15;o++)r=!t&&1==(s>>o&1),o<8?this.modules[8][this.moduleCount-o-1]=r:o<9?this.modules[8][15-o-1+1]=r:this.modules[8][15-o-1]=r;this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var i=-1,s=this.moduleCount-1,o=7,r=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var n=0;n<2;n++)if(null==this.modules[s][a-n]){var l=!1;r<t.length&&(l=1==(t[r]>>>o&1)),rt.getMask(e,s,a-n)&&(l=!l),this.modules[s][a-n]=l,-1==--o&&(r++,o=7)}if((s+=i)<0||this.moduleCount<=s){s-=i,i=-i;break}}}},it.PAD0=236,it.PAD1=17,it.createData=function(t,e,i){for(var s=dt.getRSBlocks(t,e),o=new ht,r=0;r<i.length;r++){var a=i[r];o.put(a.mode,4),o.put(a.getLength(),rt.getLengthInBits(a.mode,t)),a.write(o)}var n=0;for(r=0;r<s.length;r++)n+=s[r].dataCount;if(o.getLengthInBits()>8*n)throw new Error("code length overflow. ("+o.getLengthInBits()+">"+8*n+")");for(o.getLengthInBits()+4<=8*n&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*n||(o.put(it.PAD0,8),o.getLengthInBits()>=8*n));)o.put(it.PAD1,8);return it.createBytes(o,s)},it.createBytes=function(t,e){for(var i=0,s=0,o=0,r=new Array(e.length),a=new Array(e.length),n=0;n<e.length;n++){var l=e[n].dataCount,d=e[n].totalCount-l;s=Math.max(s,l),o=Math.max(o,d),r[n]=new Array(l);for(var h=0;h<r[n].length;h++)r[n][h]=255&t.buffer[h+i];i+=l;var u=rt.getErrorCorrectPolynomial(d),c=new lt(r[n],u.getLength()-1).mod(u);for(a[n]=new Array(u.getLength()-1),h=0;h<a[n].length;h++){var g=h+c.getLength()-a[n].length;a[n][h]=g>=0?c.get(g):0}}var m=0;for(h=0;h<e.length;h++)m+=e[h].totalCount;var p=new Array(m),f=0;for(h=0;h<s;h++)for(n=0;n<e.length;n++)h<r[n].length&&(p[f++]=r[n][h]);for(h=0;h<o;h++)for(n=0;n<e.length;n++)h<a[n].length&&(p[f++]=a[n][h]);return p};for(var st={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},ot={L:1,M:0,Q:3,H:2},rt={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;rt.getBCHDigit(e)-rt.getBCHDigit(rt.G15)>=0;)e^=rt.G15<<rt.getBCHDigit(e)-rt.getBCHDigit(rt.G15);return(t<<10|e)^rt.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;rt.getBCHDigit(e)-rt.getBCHDigit(rt.G18)>=0;)e^=rt.G18<<rt.getBCHDigit(e)-rt.getBCHDigit(rt.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return rt.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case 0:return(e+i)%2==0;case 1:return e%2==0;case 2:return i%3==0;case 3:return(e+i)%3==0;case 4:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case 5:return e*i%2+e*i%3==0;case 6:return(e*i%2+e*i%3)%2==0;case 7:return(e*i%3+(e+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new lt([1],0),i=0;i<t;i++)e=e.multiply(new lt([1,at.gexp(i)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case st.MODE_NUMBER:return 10;case st.MODE_ALPHA_NUM:return 9;case st.MODE_8BIT_BYTE:case st.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case st.MODE_NUMBER:return 12;case st.MODE_ALPHA_NUM:return 11;case st.MODE_8BIT_BYTE:return 16;case st.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case st.MODE_NUMBER:return 14;case st.MODE_ALPHA_NUM:return 13;case st.MODE_8BIT_BYTE:return 16;case st.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),i=0,s=0;s<e;s++)for(var o=0;o<e;o++){for(var r=0,a=t.isDark(s,o),n=-1;n<=1;n++)if(!(s+n<0||e<=s+n))for(var l=-1;l<=1;l++)o+l<0||e<=o+l||0==n&&0==l||a==t.isDark(s+n,o+l)&&r++;r>5&&(i+=3+r-5)}for(s=0;s<e-1;s++)for(o=0;o<e-1;o++){var d=0;t.isDark(s,o)&&d++,t.isDark(s+1,o)&&d++,t.isDark(s,o+1)&&d++,t.isDark(s+1,o+1)&&d++,0!=d&&4!=d||(i+=3)}for(s=0;s<e;s++)for(o=0;o<e-6;o++)t.isDark(s,o)&&!t.isDark(s,o+1)&&t.isDark(s,o+2)&&t.isDark(s,o+3)&&t.isDark(s,o+4)&&!t.isDark(s,o+5)&&t.isDark(s,o+6)&&(i+=40);for(o=0;o<e;o++)for(s=0;s<e-6;s++)t.isDark(s,o)&&!t.isDark(s+1,o)&&t.isDark(s+2,o)&&t.isDark(s+3,o)&&t.isDark(s+4,o)&&!t.isDark(s+5,o)&&t.isDark(s+6,o)&&(i+=40);var h=0;for(o=0;o<e;o++)for(s=0;s<e;s++)t.isDark(s,o)&&h++;return i+Math.abs(100*h/e/e-50)/5*10}},at={glog:function(t){if(t<1)throw new Error("glog("+t+")");return at.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return at.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},nt=0;nt<8;nt++)at.EXP_TABLE[nt]=1<<nt;for(nt=8;nt<256;nt++)at.EXP_TABLE[nt]=at.EXP_TABLE[nt-4]^at.EXP_TABLE[nt-5]^at.EXP_TABLE[nt-6]^at.EXP_TABLE[nt-8];for(nt=0;nt<255;nt++)at.LOG_TABLE[at.EXP_TABLE[nt]]=nt;function lt(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var i=0;i<t.length&&0==t[i];)i++;this.num=new Array(t.length-i+e);for(var s=0;s<t.length-i;s++)this.num[s]=t[s+i]}function dt(t,e){this.totalCount=t,this.dataCount=e}function ht(){this.buffer=new Array,this.length=0}function ut(t){return t.setFillStyle=t.setFillStyle||function(e){t.fillStyle=e},t.setFontSize=t.setFontSize||function(e){t.font=`${e}px`},t.setTextAlign=t.setTextAlign||function(e){t.textAlign=e},t.setTextBaseline=t.setTextBaseline||function(e){t.textBaseline=e},t.setGlobalAlpha=t.setGlobalAlpha||function(e){t.globalAlpha=e},t.setStrokeStyle=t.setStrokeStyle||function(e){t.strokeStyle=e},t.setShadow=t.setShadow||function(e,i,s,o){t.shadowOffsetX=e,t.shadowOffsetY=i,t.shadowBlur=s,t.shadowColor=o},t.draw=t.draw||function(t,e){e&&e()},t.clearRect=t.clearRect||function(e,i,s,o){t.draw(!1)},t}function ct(t,e){var i=this.data="",s=this.size=200;this.useDynamicSize=!1,this.dynamicSize=s;var o=this.typeNumber=-1;this.errorCorrectLevel=ct.errorCorrectLevel.H;var r=this.margin=0;this.areaColor="#FFFFFF",this.backgroundColor="rgba(255,255,255,0)",this.backgroundImageSrc=void 0;var a=this.backgroundImageWidth=void 0,n=this.backgroundImageHeight=void 0,l=this.backgroundImageX=void 0,d=this.backgroundImageY=void 0;this.backgroundImageAlpha=1,this.backgroundImageBorderRadius=0;var h=this.backgroundPadding=0;this.foregroundColor="#000000",this.foregroundImageSrc=void 0;var u=this.foregroundImageWidth=void 0,c=this.foregroundImageHeight=void 0,g=this.foregroundImageX=void 0,m=this.foregroundImageY=void 0,p=this.foregroundImagePadding=0;this.foregroundImageBackgroundColor="#FFFFFF";var f=this.foregroundImageBorderRadius=0,v=this.foregroundImageShadowOffsetX=0,y=this.foregroundImageShadowOffsetY=0,b=this.foregroundImageShadowBlur=0;this.foregroundImageShadowColor="#808080";var k=this.foregroundPadding=0,w=this.positionProbeBackgroundColor=void 0,C=this.positionProbeForegroundColor=void 0,I=this.separatorColor=void 0,S=this.positionAdjustBackgroundColor=void 0,O=this.positionAdjustForegroundColor=void 0,x=this.timingBackgroundColor=void 0,T=this.timingForegroundColor=void 0,A=this.typeNumberBackgroundColor=void 0,D=this.typeNumberForegroundColor=void 0,B=this.darkBlockColor=void 0;this.base=void 0,this.modules=[],this.moduleCount=0,this.drawModules=[];var L=this.canvasContext=void 0;this.loadImage,this.drawReserve=!1,this.isMaked=!1,Object.defineProperties(this,{data:{get(){if(""===i||void 0===i)throw new ct.Error("data must be set!");return i},set(t){i=String(t)}},size:{get:()=>s,set(t){s=Number(t)}},typeNumber:{get:()=>o,set(t){o=Number(t)}},margin:{get:()=>r,set(t){r=Number(t)}},backgroundImageWidth:{get(){return void 0===a?this.dynamicSize:this.useDynamicSize?this.dynamicSize/this.size*a:a},set(t){a=Number(t)}},backgroundImageHeight:{get(){return void 0===n?this.dynamicSize:this.useDynamicSize?this.dynamicSize/this.size*n:n},set(t){n=Number(t)}},backgroundImageX:{get(){return void 0===l?0:this.useDynamicSize?this.dynamicSize/this.size*l:l},set(t){l=Number(t)}},backgroundImageY:{get(){return void 0===d?0:this.useDynamicSize?this.dynamicSize/this.size*d:d},set(t){d=Number(t)}},backgroundPadding:{get:()=>h,set(t){h=t>1?1:t<0?0:t}},foregroundImageWidth:{get(){return void 0===u?(this.dynamicSize-2*this.margin)/4:this.useDynamicSize?this.dynamicSize/this.size*u:u},set(t){u=Number(t)}},foregroundImageHeight:{get(){return void 0===c?(this.dynamicSize-2*this.margin)/4:this.useDynamicSize?this.dynamicSize/this.size*c:c},set(t){c=Number(t)}},foregroundImageX:{get(){return void 0===g?this.dynamicSize/2-this.foregroundImageWidth/2:this.useDynamicSize?this.dynamicSize/this.size*g:g},set(t){g=Number(t)}},foregroundImageY:{get(){return void 0===m?this.dynamicSize/2-this.foregroundImageHeight/2:this.useDynamicSize?this.dynamicSize/this.size*m:m},set(t){m=Number(t)}},foregroundImagePadding:{get(){return this.useDynamicSize?this.dynamicSize/this.size*p:p},set(t){p=Number(t)}},foregroundImageBorderRadius:{get(){return this.useDynamicSize?this.dynamicSize/this.size*f:f},set(t){f=Number(t)}},foregroundImageShadowOffsetX:{get(){return this.useDynamicSize?this.dynamicSize/this.size*v:v},set(t){v=Number(t)}},foregroundImageShadowOffsetY:{get(){return this.useDynamicSize?this.dynamicSize/this.size*y:y},set(t){y=Number(t)}},foregroundImageShadowBlur:{get(){return this.useDynamicSize?this.dynamicSize/this.size*b:b},set(t){b=Number(t)}},foregroundPadding:{get:()=>k,set(t){k=t>1?1:t<0?0:t}},positionProbeBackgroundColor:{get(){return w||this.backgroundColor},set(t){w=t}},positionProbeForegroundColor:{get(){return C||this.foregroundColor},set(t){C=t}},separatorColor:{get(){return I||this.backgroundColor},set(t){I=t}},positionAdjustBackgroundColor:{get(){return S||this.backgroundColor},set(t){S=t}},positionAdjustForegroundColor:{get(){return O||this.foregroundColor},set(t){O=t}},timingBackgroundColor:{get(){return x||this.backgroundColor},set(t){x=t}},timingForegroundColor:{get(){return T||this.foregroundColor},set(t){T=t}},typeNumberBackgroundColor:{get(){return A||this.backgroundColor},set(t){A=t}},typeNumberForegroundColor:{get(){return D||this.foregroundColor},set(t){D=t}},darkBlockColor:{get(){return B||this.foregroundColor},set(t){B=t}},canvasContext:{get(){if(void 0===L)throw new ct.Error("use drawCanvas, you need to set the canvasContext!");return L},set(t){L=ut(t)}}}),ct.plugins.forEach((t=>t(ct,this,!1))),t&&this.setOptions(t),e&&(this.canvasContext=ut(e))}function gt(){let t=this.waitingQueue=[],e=this.isRunning=!1;function i(s,o,r){s().then((t=>{o(t)})).catch((t=>{r(t)})).finally((()=>{if(t.length){const e=t.shift();i(e.task,e.resolve,e.reject)}else e=!1}))}this.exec=function(s){return new Promise(((o,r)=>{e?t.push({task:s,resolve:o,reject:r}):(e=!0,i(s,o,r))}))}}lt.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var s=0;s<t.getLength();s++)e[i+s]^=at.gexp(at.glog(this.get(i))+at.glog(t.get(s)));return new lt(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=at.glog(this.get(0))-at.glog(t.get(0)),i=new Array(this.getLength()),s=0;s<this.getLength();s++)i[s]=this.get(s);for(s=0;s<t.getLength();s++)i[s]^=at.gexp(at.glog(t.get(s))+e);return new lt(i,0).mod(t)}},dt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],dt.getRSBlocks=function(t,e){var i=dt.getRsBlockTable(t,e);if(null==i)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var s=i.length/3,o=new Array,r=0;r<s;r++)for(var a=i[3*r+0],n=i[3*r+1],l=i[3*r+2],d=0;d<a;d++)o.push(new dt(n,l));return o},dt.getRsBlockTable=function(t,e){switch(e){case ot.L:return dt.RS_BLOCK_TABLE[4*(t-1)+0];case ot.M:return dt.RS_BLOCK_TABLE[4*(t-1)+1];case ot.Q:return dt.RS_BLOCK_TABLE[4*(t-1)+2];case ot.H:return dt.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},ht.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var i=0;i<e;i++)this.putBit(1==(t>>>e-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},it.errorCorrectLevel=ot,ct.errorCorrectLevel=it.errorCorrectLevel,ct.Error=function(t){this.errMsg="[uQRCode]: "+t},ct.plugins=[],ct.use=function(t){"function"==typeof t&&ct.plugins.push(t)},ct.prototype.loadImage=function(t){return Promise.resolve(t)},ct.prototype.setOptions=function(t){var e,i,s,o,a,n,l,d,h,u,c,g,m,p,f,v,y,b,k,w,C,I,S,O,x,T,A,D,B,L,P,z,E,N,M,j,R,Y,q,F,G,H,W,_,X,K,J,Z,Q,V,U,$,tt,et,it,st;t&&(Object.keys(t).forEach((e=>{this[e]=t[e]})),function(t={},e={},i=!1){let s;s=i?t:r({},t);for(let r in e){var o=e[r];null!=o&&(o.constructor==Object?s[r]=this.deepReplace(s[r],o):o.constructor!=String||o?s[r]=o:s[r]=s[r])}}(this,{data:t.data||t.text,size:t.size,useDynamicSize:t.useDynamicSize,typeNumber:t.typeNumber,errorCorrectLevel:t.errorCorrectLevel,margin:t.margin,areaColor:t.areaColor,backgroundColor:t.backgroundColor||(null===(e=t.background)||void 0===e?void 0:e.color),backgroundImageSrc:t.backgroundImageSrc||(null===(i=t.background)||void 0===i||null===(s=i.image)||void 0===s?void 0:s.src),backgroundImageWidth:t.backgroundImageWidth||(null===(o=t.background)||void 0===o||null===(a=o.image)||void 0===a?void 0:a.width),backgroundImageHeight:t.backgroundImageHeight||(null===(n=t.background)||void 0===n||null===(l=n.image)||void 0===l?void 0:l.height),backgroundImageX:t.backgroundImageX||(null===(d=t.background)||void 0===d||null===(h=d.image)||void 0===h?void 0:h.x),backgroundImageY:t.backgroundImageY||(null===(u=t.background)||void 0===u||null===(c=u.image)||void 0===c?void 0:c.y),backgroundImageAlpha:t.backgroundImageAlpha||(null===(g=t.background)||void 0===g||null===(m=g.image)||void 0===m?void 0:m.alpha),backgroundImageBorderRadius:t.backgroundImageBorderRadius||(null===(p=t.background)||void 0===p||null===(f=p.image)||void 0===f?void 0:f.borderRadius),backgroundPadding:t.backgroundPadding,foregroundColor:t.foregroundColor||(null===(v=t.foreground)||void 0===v?void 0:v.color),foregroundImageSrc:t.foregroundImageSrc||(null===(y=t.foreground)||void 0===y||null===(b=y.image)||void 0===b?void 0:b.src),foregroundImageWidth:t.foregroundImageWidth||(null===(k=t.foreground)||void 0===k||null===(w=k.image)||void 0===w?void 0:w.width),foregroundImageHeight:t.foregroundImageHeight||(null===(C=t.foreground)||void 0===C||null===(I=C.image)||void 0===I?void 0:I.height),foregroundImageX:t.foregroundImageX||(null===(S=t.foreground)||void 0===S||null===(O=S.image)||void 0===O?void 0:O.x),foregroundImageY:t.foregroundImageY||(null===(x=t.foreground)||void 0===x||null===(T=x.image)||void 0===T?void 0:T.y),foregroundImagePadding:t.foregroundImagePadding||(null===(A=t.foreground)||void 0===A||null===(D=A.image)||void 0===D?void 0:D.padding),foregroundImageBackgroundColor:t.foregroundImageBackgroundColor||(null===(B=t.foreground)||void 0===B||null===(L=B.image)||void 0===L?void 0:L.backgroundColor),foregroundImageBorderRadius:t.foregroundImageBorderRadius||(null===(P=t.foreground)||void 0===P||null===(z=P.image)||void 0===z?void 0:z.borderRadius),foregroundImageShadowOffsetX:t.foregroundImageShadowOffsetX||(null===(E=t.foreground)||void 0===E||null===(N=E.image)||void 0===N?void 0:N.shadowOffsetX),foregroundImageShadowOffsetY:t.foregroundImageShadowOffsetY||(null===(M=t.foreground)||void 0===M||null===(j=M.image)||void 0===j?void 0:j.shadowOffsetY),foregroundImageShadowBlur:t.foregroundImageShadowBlur||(null===(R=t.foreground)||void 0===R||null===(Y=R.image)||void 0===Y?void 0:Y.shadowBlur),foregroundImageShadowColor:t.foregroundImageShadowColor||(null===(q=t.foreground)||void 0===q||null===(F=q.image)||void 0===F?void 0:F.shadowColor),foregroundPadding:t.foregroundPadding,positionProbeBackgroundColor:t.positionProbeBackgroundColor||(null===(G=t.positionProbe)||void 0===G?void 0:G.backgroundColor)||(null===(H=t.positionDetection)||void 0===H?void 0:H.backgroundColor),positionProbeForegroundColor:t.positionProbeForegroundColor||(null===(W=t.positionProbe)||void 0===W?void 0:W.foregroundColor)||(null===(_=t.positionDetection)||void 0===_?void 0:_.foregroundColor),separatorColor:t.separatorColor||(null===(X=t.separator)||void 0===X?void 0:X.color),positionAdjustBackgroundColor:t.positionAdjustBackgroundColor||(null===(K=t.positionAdjust)||void 0===K?void 0:K.backgroundColor)||(null===(J=t.alignment)||void 0===J?void 0:J.backgroundColor),positionAdjustForegroundColor:t.positionAdjustForegroundColor||(null===(Z=t.positionAdjust)||void 0===Z?void 0:Z.foregroundColor)||(null===(Q=t.alignment)||void 0===Q?void 0:Q.foregroundColor),timingBackgroundColor:t.timingBackgroundColor||(null===(V=t.timing)||void 0===V?void 0:V.backgroundColor),timingForegroundColor:t.timingForegroundColor||(null===(U=t.timing)||void 0===U?void 0:U.foregroundColor),typeNumberBackgroundColor:t.typeNumberBackgroundColor||(null===($=t.typeNumber)||void 0===$?void 0:$.backgroundColor)||(null===(tt=t.versionInformation)||void 0===tt?void 0:tt.backgroundColor),typeNumberForegroundColor:t.typeNumberForegroundColor||(null===(et=t.typeNumber)||void 0===et?void 0:et.foregroundColor)||(null===(it=t.versionInformation)||void 0===it?void 0:it.foregroundColor),darkBlockColor:t.darkBlockColor||(null===(st=t.darkBlock)||void 0===st?void 0:st.color)},!0))},ct.prototype.make=function(){let{foregroundColor:t,backgroundColor:e,typeNumber:i,errorCorrectLevel:s,data:o,size:r,margin:a,useDynamicSize:n}=this;if(t===e)throw new ct.Error("foregroundColor and backgroundColor cannot be the same!");var l=new it(i,s);l.addData(function(t){t=t.toString();for(var e,i="",s=0;s<t.length;s++)(e=t.charCodeAt(s))>=1&&e<=127?i+=t.charAt(s):e>2047?(i+=String.fromCharCode(224|e>>12&15),i+=String.fromCharCode(128|e>>6&63),i+=String.fromCharCode(128|63&e)):(i+=String.fromCharCode(192|e>>6&31),i+=String.fromCharCode(128|63&e));return i}(o)),l.make(),this.base=l,this.typeNumber=l.typeNumber,this.modules=l.modules,this.moduleCount=l.moduleCount,this.dynamicSize=n?Math.ceil((r-2*a)/l.moduleCount)*l.moduleCount+2*a:r,function(t){let{dynamicSize:e,margin:i,backgroundColor:s,backgroundPadding:o,foregroundColor:r,foregroundPadding:a,modules:n,moduleCount:l}=t,d=(e-2*i)/l,h=d,u=0;o>0&&(u=h*o/2,h-=2*u);let c=d,g=0;a>0&&(g=c*a/2,c-=2*g);for(var m=0;m<l;m++)for(var p=0;p<l;p++){var f=p*d+i,v=m*d+i;if(n[m][p]){var y=g,b=f+g,k=v+g,w=c,C=c;n[m][p]={type:["foreground"],color:r,isBlack:!0,isDrawn:!1,destX:f,destY:v,destWidth:d,destHeight:d,x:b,y:k,width:w,height:C,paddingTop:y,paddingRight:y,paddingBottom:y,paddingLeft:y}}else y=u,b=f+u,k=v+u,w=h,C=h,n[m][p]={type:["background"],color:s,isBlack:!1,isDrawn:!1,destX:f,destY:v,destWidth:d,destHeight:d,x:b,y:k,width:w,height:C,paddingTop:y,paddingRight:y,paddingBottom:y,paddingLeft:y}}}(this),function(t){let{modules:e,moduleCount:i,positionProbeBackgroundColor:s,positionProbeForegroundColor:o}=t,r=i-7;[[0,0,1],[1,0,1],[2,0,1],[3,0,1],[4,0,1],[5,0,1],[6,0,1],[0,1,1],[1,1,0],[2,1,0],[3,1,0],[4,1,0],[5,1,0],[6,1,1],[0,2,1],[1,2,0],[2,2,1],[3,2,1],[4,2,1],[5,2,0],[6,2,1],[0,3,1],[1,3,0],[2,3,1],[3,3,1],[4,3,1],[5,3,0],[6,3,1],[0,4,1],[1,4,0],[2,4,1],[3,4,1],[4,4,1],[5,4,0],[6,4,1],[0,5,1],[1,5,0],[2,5,0],[3,5,0],[4,5,0],[5,5,0],[6,5,1],[0,6,1],[1,6,1],[2,6,1],[3,6,1],[4,6,1],[5,6,1],[6,6,1]].forEach((t=>{var i=e[t[0]][t[1]],a=e[t[0]+r][t[1]],n=e[t[0]][t[1]+r];n.type.push("positionProbe"),a.type.push("positionProbe"),i.type.push("positionProbe"),i.color=1==t[2]?o:s,a.color=1==t[2]?o:s,n.color=1==t[2]?o:s}))}(this),function(t){let{modules:e,moduleCount:i,separatorColor:s}=t;[[7,0],[7,1],[7,2],[7,3],[7,4],[7,5],[7,6],[7,7],[0,7],[1,7],[2,7],[3,7],[4,7],[5,7],[6,7]].forEach((t=>{var o=e[t[0]][t[1]],r=e[i-t[0]-1][t[1]],a=e[t[0]][i-t[1]-1];a.type.push("separator"),r.type.push("separator"),o.type.push("separator"),o.color=s,r.color=s,a.color=s}))}(this),function(t){let{typeNumber:e,modules:i,moduleCount:s,foregroundColor:o,backgroundColor:r,positionAdjustForegroundColor:a,positionAdjustBackgroundColor:n,timingForegroundColor:l,timingBackgroundColor:d}=t;const h=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]][e-1];if(h){const t=[[-2,-2,1],[-1,-2,1],[0,-2,1],[1,-2,1],[2,-2,1],[-2,-1,1],[-1,-1,0],[0,-1,0],[1,-1,0],[2,-1,1],[-2,0,1],[-1,0,0],[0,0,1],[1,0,0],[2,0,1],[-2,1,1],[-1,1,0],[0,1,0],[1,1,0],[2,1,1],[-2,2,1],[-1,2,1],[0,2,1],[1,2,1],[2,2,1]],e=h.length;for(let u=0;u<e;u++)for(let c=0;c<e;c++){let{x:e,y:g}={x:h[u],y:h[c]};e<9&&g<9||e>s-9-1&&g<9||g>s-9-1&&e<9||t.forEach((t=>{var s=i[e+t[0]][g+t[1]];s.type.push("positionAdjust"),s.type.includes("timing")?1==t[2]?s.color=a==o?l:a:s.color=a==o&&n==r?d:n:s.color=1==t[2]?a:n}))}}}(this),function(t){let{modules:e,moduleCount:i,timingForegroundColor:s,timingBackgroundColor:o}=t,r=i-16;for(let l=0;l<r;l++){var a=e[6][8+l],n=e[8+l][6];a.type.push("timing"),n.type.push("timing"),a.color=1&l^1?s:o,n.color=1&l^1?s:o}}(this),function(t){let{modules:e,moduleCount:i,darkBlockColor:s}=t;var o=e[i-7-1][8];o.type.push("darkBlock"),o.color=s}(this),function(t){let{typeNumber:e,modules:i,moduleCount:s,typeNumberBackgroundColor:o,typeNumberForegroundColor:r}=t;if(e<7)return i;const a=[0,0,0,0,0,0,0,"000111110010010100","001000010110111100","001001101010011001","001010010011010011","001011101111110110","001100011101100010","001101100001000111","001110011000001101","001111100100101000","010000101101111000","010001010001011101","010010101000010111","010011010100110010","010100100110100110","010101011010000011","010110100011001001","010111011111101100","011000111011000100","011001000111100001","011010111110101011","011011000010001110","011100110000011010","011101001100111111","011110110101110101","011111001001010000","100000100111010101","100001011011110000","100010100010111010","100011011110011111","100100101100001011","100101010000101110","100110101001100100","100111010101000001","101000110001101001"];let n=a[e]+a[e],l=[s-11,s-10,s-9];[[5,l[2]],[5,l[1]],[5,l[0]],[4,l[2]],[4,l[1]],[4,l[0]],[3,l[2]],[3,l[1]],[3,l[0]],[2,l[2]],[2,l[1]],[2,l[0]],[1,l[2]],[1,l[1]],[1,l[0]],[0,l[2]],[0,l[1]],[0,l[0]],[l[2],5],[l[1],5],[l[0],5],[l[2],4],[l[1],4],[l[0],4],[l[2],3],[l[1],3],[l[0],3],[l[2],2],[l[1],2],[l[0],2],[l[2],1],[l[1],1],[l[0],1],[l[2],0],[l[1],0],[l[0],0]].forEach(((t,e)=>{var s=i[t[0]][t[1]];s.type.push("typeNumber"),s.color="1"==n[e]?r:o}))}(this),this.isMaked=!0,this.drawModules=[]},ct.prototype.getDrawModules=function(){if(this.drawModules&&this.drawModules.length>0)return this.drawModules;let t=this.drawModules=[],{modules:e,moduleCount:i,dynamicSize:s,areaColor:o,backgroundImageSrc:r,backgroundImageX:a,backgroundImageY:n,backgroundImageWidth:l,backgroundImageHeight:d,backgroundImageAlpha:h,backgroundImageBorderRadius:u,foregroundImageSrc:c,foregroundImageX:g,foregroundImageY:m,foregroundImageWidth:p,foregroundImageHeight:f,foregroundImagePadding:v,foregroundImageBackgroundColor:y,foregroundImageBorderRadius:b,foregroundImageShadowOffsetX:k,foregroundImageShadowOffsetY:w,foregroundImageShadowBlur:C,foregroundImageShadowColor:I}=this;o&&t.push({name:"area",type:"area",color:o,x:0,y:0,width:s,height:s}),r&&t.push({name:"backgroundImage",type:"image",imageSrc:r,mappingName:"backgroundImageSrc",x:a,y:n,width:l,height:d,alpha:h,borderRadius:u});for(var S=0;S<i;S++)for(var O=0;O<i;O++){var x=e[S][O];x.isDrawn||(x.type.includes("foreground")?t.push({name:"foreground",type:"tile",color:x.color,destX:x.destX,destY:x.destY,destWidth:x.destWidth,destHeight:x.destHeight,x:x.x,y:x.y,width:x.width,height:x.height,paddingTop:x.paddingTop,paddingRight:x.paddingRight,paddingBottom:x.paddingBottom,paddingLeft:x.paddingLeft,rowIndex:S,colIndex:O}):t.push({name:"background",type:"tile",color:x.color,destX:x.destX,destY:x.destY,destWidth:x.destWidth,destHeight:x.destHeight,x:x.x,y:x.y,width:x.width,height:x.height,paddingTop:x.paddingTop,paddingRight:x.paddingRight,paddingBottom:x.paddingBottom,paddingLeft:x.paddingLeft,rowIndex:S,colIndex:O}),x.isDrawn=!0)}return c&&t.push({name:"foregroundImage",type:"image",imageSrc:c,mappingName:"foregroundImageSrc",x:g,y:m,width:p,height:f,padding:v,backgroundColor:y,borderRadius:b,shadowOffsetX:k,shadowOffsetY:w,shadowBlur:C,shadowColor:I}),t},ct.prototype.isBlack=function(t,e){var i=this.moduleCount;return!(0>t||0>e||t>=i||e>=i)&&this.modules[t][e].isBlack},ct.prototype.drawCanvas=function(){let{isMaked:t,canvasContext:e,useDynamicSize:i,dynamicSize:s,foregroundColor:o,foregroundPadding:r,backgroundColor:n,backgroundPadding:l,drawReserve:d,margin:h}=this;if(!t)return Promise.reject(new ct.Error("please execute the make method first!"));let u=this.getDrawModules(),c=(t,i)=>a(this,null,(function*(){try{e.clearRect(0,0,s,s),e.draw(!1);for(var o=0;o<u.length;o++){var r=u[o];switch(e.save(),r.type){case"area":e.setFillStyle(r.color),e.fillRect(r.x,r.y,r.width,r.height);break;case"tile":var a=r.x,n=r.y,l=r.width,h=r.height;e.setFillStyle(r.color),e.fillRect(a,n,l,h);break;case"image":if("backgroundImage"===r.name){a=Math.round(r.x),n=Math.round(r.y),l=Math.round(r.width),h=Math.round(r.height),l<2*(g=Math.round(r.borderRadius))&&(g=l/2),h<2*g&&(g=h/2),e.setGlobalAlpha(r.alpha),g>0&&(e.beginPath(),e.moveTo(a+g,n),e.arcTo(a+l,n,a+l,n+h,g),e.arcTo(a+l,n+h,a,n+h,g),e.arcTo(a,n+h,a,n,g),e.arcTo(a,n,a+l,n,g),e.closePath(),e.setStrokeStyle("rgba(0,0,0,0)"),e.stroke(),e.clip());try{var c=yield this.loadImage(r.imageSrc);e.drawImage(c,a,n,l,h)}catch(k){throw new ct.Error(`${r.mappingName} invalid!`)}}else if("foregroundImage"===r.name){a=Math.round(r.x),n=Math.round(r.y),l=Math.round(r.width),h=Math.round(r.height);var g,m=Math.round(r.padding);l<2*(g=Math.round(r.borderRadius))&&(g=l/2),h<2*g&&(g=h/2);var p=a-m,f=n-m,v=l+2*m,y=h+2*m,b=Math.round(v/l*g);v<2*b&&(b=v/2),y<2*b&&(b=y/2),e.save(),e.setShadow(r.shadowOffsetX,r.shadowOffsetY,r.shadowBlur,r.shadowColor),b>0?(e.beginPath(),e.moveTo(p+b,f),e.arcTo(p+v,f,p+v,f+y,b),e.arcTo(p+v,f+y,p,f+y,b),e.arcTo(p,f+y,p,f,b),e.arcTo(p,f,p+v,f,b),e.closePath(),e.setFillStyle(r.backgroundColor),e.fill()):(e.setFillStyle(r.backgroundColor),e.fillRect(p,f,v,y)),e.restore(),e.save(),b>0?(e.beginPath(),e.moveTo(p+b,f),e.arcTo(p+v,f,p+v,f+y,b),e.arcTo(p+v,f+y,p,f+y,b),e.arcTo(p,f+y,p,f,b),e.arcTo(p,f,p+v,f,b),e.closePath(),e.setFillStyle(m>0?r.backgroundColor:"rgba(0,0,0,0)"),e.fill()):(e.setFillStyle(m>0?r.backgroundColor:"rgba(0,0,0,0)"),e.fillRect(p,f,v,y)),e.restore(),g>0&&(e.beginPath(),e.moveTo(a+g,n),e.arcTo(a+l,n,a+l,n+h,g),e.arcTo(a+l,n+h,a,n+h,g),e.arcTo(a,n+h,a,n,g),e.arcTo(a,n,a+l,n,g),e.closePath(),e.setStrokeStyle("rgba(0,0,0,0)"),e.stroke(),e.clip());try{c=yield this.loadImage(r.imageSrc),e.drawImage(c,a,n,l,h)}catch(k){throw new ct.Error(`${r.mappingName} invalid!`)}}}d&&e.draw(!0),e.restore()}e.draw(!0),setTimeout(t,150)}catch(k){if(!(k instanceof ct.Error))throw k;i(k)}}));return new Promise(((t,e)=>{c(t,e)}))},ct.prototype.draw=function(){return this.drawCanvas()},ct.prototype.register=function(t){t&&t(ct,this,!0)};const mt=new gt,pt=new gt,ft=[];let vt=null;function yt(t={},e={},i=!1){let s;s=i?t:r({},t);for(let r in e){var o=e[r];null!=o&&(o.constructor==Object?s[r]=this.deepReplace(s[r],o):o.constructor!=String||o?s[r]=o:s[r]=s[r])}return s}const bt=l({name:"uv-qrcode",mixins:[d,h,tt],emits:["click","change","complete"],data:()=>({canvasId:"",canvas:void 0,canvasType:void 0,canvasContext:void 0,makeDelegate:void 0,drawDelegate:void 0,toTempFilePathDelegate:void 0,makeExecuted:!1,makeing:!1,drawing:!1,isError:!1,error:void 0,isH5Save:!1,tempFilePath:"",templateOptions:{size:0,width:0,height:0,canvasWidth:0,canvasHeight:0,canvasTransform:"",canvasDisplay:!1},uqrcodeOptions:{data:""},plugins:[],makeingPattern:[[[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0]],[[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!0,!0,!0,!1,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!1,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!1,!0,!0,!0]],[[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!1,!1,!1],[!0,!0,!0,!0,!0,!0,!0,!1,!1,!1],[!0,!0,!0,!0,!0,!0,!0,!1,!1,!1],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0]],[[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0]]]}),watch:{type:{handler(t){["2d"].includes(t)?this.canvasType=t:this.canvasType=void 0},immediate:!0},value:{handler(){this.auto&&this.remake()}},size:{handler(){this.auto&&this.remake()}},options:{handler(){this.auto&&this.remake()},deep:!0},makeing:{handler(t){t||"function"==typeof this.toTempFilePathDelegate&&this.toTempFilePathDelegate()}}},created(){this.canvasId=this.$uv.guid()},mounted(){this.templateOptions.size=this.$uv.getPx(this.size),this.templateOptions.width=this.templateOptions.size,this.templateOptions.height=this.templateOptions.size,this.templateOptions.canvasWidth=this.templateOptions.size,this.templateOptions.canvasHeight=this.templateOptions.size,this.canvasType,this.templateOptions.canvasTransform=`scale(${this.templateOptions.size/this.templateOptions.canvasWidth}, ${this.templateOptions.size/this.templateOptions.canvasHeight})`,this.start&&this.$nextTick((()=>{this.make()}))},methods:{getTemplateOptions(){var t=this.$uv.getPx(this.size);return yt(this.templateOptions,{size:t,width:t,height:t})},getUqrcodeOptions(){return yt(this.options,{data:String(this.value),size:Number(this.templateOptions.size)})},resetCanvas(t){this.templateOptions.canvasDisplay=!1,this.$nextTick((()=>{this.templateOptions.canvasDisplay=!0,this.$nextTick((()=>{t&&t()}))}))},draw(){return a(this,arguments,(function*(t={},e=!1){if("function"!=typeof t.success&&(t.success=()=>{}),"function"!=typeof t.fail&&(t.fail=()=>{}),"function"!=typeof t.complete&&(t.complete=()=>{}),this.drawing){if(!e)return void(this.drawDelegate=()=>{this.draw(t,!0)})}else this.drawing=!0;if(!this.canvasId)return this.isError=!0,this.drawing=!1,t.fail({errMsg:"[uQRCode]: canvasId must be set!"}),void t.complete({errMsg:"[uQRCode]: canvasId must be set!"});if(!this.value)return this.isError=!0,this.drawing=!1,t.fail({errMsg:"[uQRCode]: value must be set!"}),void t.complete({errMsg:"[uQRCode]: value must be set!"});this.templateOptions=this.getTemplateOptions(),this.uqrcodeOptions=this.getUqrcodeOptions(),"string"==typeof this.uqrcodeOptions.errorCorrectLevel&&(this.uqrcodeOptions.errorCorrectLevel=ct.errorCorrectLevel[this.uqrcodeOptions.errorCorrectLevel]),void 0===this.options.useDynamicSize&&(this.uqrcodeOptions.useDynamicSize=!0);const i=vt=new ct;this.plugins.forEach((t=>i.register(t.plugin))),i.setOptions(this.uqrcodeOptions),i.make();let s=null;"2d"===this.canvasType?(s=this.canvasContext=u(this.canvasId,this),this.templateOptions.canvasWidth=i.dynamicSize,this.templateOptions.canvasHeight=i.dynamicSize,this.templateOptions.canvasTransform=`scale(${this.templateOptions.size/this.templateOptions.canvasWidth}, ${this.templateOptions.size/this.templateOptions.canvasHeight})`,i.loadImage=this.getLoadImage((function(t){return new Promise(((e,i)=>{if(t.startsWith("http"))c({src:t,success:t=>{e(t.path)},fail:t=>{i(t)}});else{if(t.startsWith("."))throw new Error("[uQRCode]: local image path only supports absolute path!");e(t)}}))}))):(s=this.canvasContext=u(this.canvasId,this),this.templateOptions.canvasWidth=i.dynamicSize,this.templateOptions.canvasHeight=i.dynamicSize,this.templateOptions.canvasTransform=`scale(${this.templateOptions.size/this.templateOptions.canvasWidth}, ${this.templateOptions.size/this.templateOptions.canvasHeight})`,i.loadImage=this.getLoadImage((function(t){return new Promise(((e,i)=>{if(t.startsWith("http"))c({src:t,success:t=>{e(t.path)},fail:t=>{i(t)}});else{if(t.startsWith("."))throw new Error("[uQRCode]: local image path only supports absolute path!");e(t)}}))}))),i.canvasContext=s,setTimeout((()=>{var e=this.plugins.find((t=>t.name==i.style)),s=e?e.drawCanvas:"drawCanvas";(this.queue?()=>mt.exec((()=>i[s]())):()=>i[s]())().then((()=>{if(this.drawDelegate){let t=this.drawDelegate;this.drawDelegate=void 0,t()}else this.drawing=!1,t.success()})).catch((e=>{if(this.drawDelegate){let t=this.drawDelegate;this.drawDelegate=void 0,t()}else this.drawing=!1,this.isError=!0,t.fail(e)})).finally((()=>{t.complete()}))}),300)}))},make(t={}){this.makeExecuted=!0,this.makeing=!0,this.isError=!1,"function"!=typeof t.success&&(t.success=()=>{}),"function"!=typeof t.fail&&(t.fail=()=>{}),"function"!=typeof t.complete&&(t.complete=()=>{}),this.resetCanvas((()=>{clearTimeout(this.makeDelegate),this.makeDelegate=setTimeout((()=>{this.draw({success:()=>{setTimeout((()=>{t.success(),this.complete(!0)}),300)},fail:e=>{t.fail(e),this.error=e,this.complete(!1,e.errMsg)},complete:()=>{t.complete(),this.makeing=!1}})}),300)}))},remake(t){this.$emit("change"),this.make(t)},complete(t=!0,e=""){t?this.$emit("complete",{success:t}):this.$emit("complete",{success:t,errMsg:e})},toTempFilePath(t={}){if("function"!=typeof t.success&&(t.success=()=>{}),"function"!=typeof t.fail&&(t.fail=()=>{}),"function"!=typeof t.complete&&(t.complete=()=>{}),!this.makeExecuted){var e={errMsg:"[uQRCode]: make() method has never been executed! please execute make() successfully before operating."};return t.fail(e),void t.complete(e)}if(this.isError)return t.fail(this.error),void t.complete(this.error);this.makeing?this.toTempFilePathDelegate=()=>{this.toTempFilePath(t)}:(this.toTempFilePathDelegate=null,"2d"===this.canvasType||g({canvasId:this.canvasId,fileType:this.fileType,width:Number(this.templateOptions.canvasWidth),height:Number(this.templateOptions.canvasHeight),destWidth:Number(this.templateOptions.size),destHeight:Number(this.templateOptions.size),success:e=>{t.success(e)},fail:e=>{t.fail(e)},complete:()=>{t.complete()}},this))},save(t={}){"function"!=typeof t.success&&(t.success=()=>{}),"function"!=typeof t.fail&&(t.fail=()=>{}),"function"!=typeof t.complete&&(t.complete=()=>{}),this.toTempFilePath({success:e=>{if(this.isH5Save=this.h5SaveTip,this.tempFilePath=e.tempFilePath,this.h5SaveIsDownload){const t=document.createElement("a");t.download=this.h5DownloadName,t.href=e.tempFilePath,document.body.appendChild(t),t.click(),t.remove()}t.success({errMsg:"ok"}),t.complete({errMsg:"ok"})},fail:e=>{t.fail(e),t.complete(e)}})},onClick(t){this.$emit("click",t)},getInstance:()=>vt,registerStyle(t){if("style"!=t.Type)return{errMsg:"registerStyle 仅支持注册 style 类型的扩展！"};"function"==typeof t&&this.plugins.push({plugin:t,name:t.Name,drawCanvas:t.DrawCanvas})},getLoadImage(t){var e=this;return"function"==typeof t?function(i){return e.isQueueLoadImage?pt.exec((()=>new Promise(((e,s)=>{setTimeout((()=>{const o=ft.find((t=>t.src==i));o?e(o.img):t(i).then((t=>{ft.push({src:i,img:t}),e(t)})).catch((t=>{s(t)}))}),10)})))):t(i)}:function(t){return Promise.resolve(t)}}}},[["render",function(t,e,i,s,o,r){const a=O,n=x,l=T,d=A;return m(),p(n,{class:S(["uqrcode",{"uqrcode-hide":t.hide}]),style:y({width:`${o.templateOptions.width}px`,height:`${o.templateOptions.height}px`})},{default:f((()=>[v(n,{class:"uqrcode-canvas-wrapper"},{default:f((()=>[o.templateOptions.canvasDisplay?(m(),p(a,{key:0,class:"uqrcode-canvas",id:o.canvasId,"canvas-id":o.canvasId,type:o.canvasType,style:y({width:`${o.templateOptions.canvasWidth}px`,height:`${o.templateOptions.canvasHeight}px`,transform:o.templateOptions.canvasTransform}),onClick:r.onClick},null,8,["id","canvas-id","type","style","onClick"])):b("",!0)])),_:1}),(void 0!==t.loading&&t.loading?t.loading:o.makeing)?(m(),p(n,{key:0,class:"uqrcode-makeing"},{default:f((()=>[k(t.$slots,"loading",{},(()=>[v(l,{class:"uqrcode-makeing-image",style:y({width:o.templateOptions.size/4+"px",height:o.templateOptions.size/4+"px"}),src:"data:image/gif;base64,R0lGODlhAAEAAfIEAOHh4SSsWuDg4N3d3f///wAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ4OCwgMjAyMC8wNy8xMC0yMjowNjo1MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjAgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjAyODhGMzM4RDEwMTExRUM4MDhCRkVBQkE2QUZDQzkwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjAyODhGMzM5RDEwMTExRUM4MDhCRkVBQkE2QUZDQzkwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDI4OEYzMzZEMTAxMTFFQzgwOEJGRUFCQTZBRkNDOTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDI4OEYzMzdEMTAxMTFFQzgwOEJGRUFCQTZBRkNDOTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQFFAAEACwAAAAAAAEAAQAD/0i63P4wykmrvTjrzbv/YCiOZGmeaKqubOu+cCzPdG3feK7vfO//wKBwSCwaj8ikcslsOp/QqHRKrVqv2Kx2y+16v+CweEwum8/otHrNbrvf8Lh8Tq/b7/i8fs/v+/+AgYKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanigCqq6ytrieusbISAbW2t7i5uru8vb66bLLCrLDDw7S/ycrLzLXBxsLF0LHIzdbXzc/Trybb1BHY4eK92t6r0uaq1ePs4+Xp6PDg7fTh7+bx+PP1/Mz33vkA7utH0Ne/bQERDizIMNfBaQkhLmxIMcBDaBExTqzI8P+isYwfN3Ik6PFYt3TnRI7kVzLaSZQA1q0s2HLWS5QyZ/ar+a0ETHUqdbLjyc3nz5xC6RFtBdIkhKQ01/yMeVPeU6g7pR6tqu8q1npLiXEV6PVru7ApjcJEquyEPa1rxyosm83EWzVTm7qk688uNrRA1eIMatDvNcBUBVt9cJdEYzR55Urku8ztX7iDFXdlfLnE4zORNZPlfNiwNcR6bVJua7ou3q2i55I+3brv67ixJ8927bhzmtAkgDv4HIJ4GeEikDMw/oH5GOUgoCtw3oF6GOkesFvfsP0L9g7afY/o7uU7h/ClPYsHDTt4++Hri8c//j55/eXzm+d/fj96/+n/+1UX4HX/ZVcgeRggyIV5G6BHmycMauAgb5xEmMGEtnViIQYYVvbJhhd0yBqEBYJ34ICUgGiBiMmAomIFLP7iYonnnZiehjQ2aOODOE7l449MERbVai1iBuSRO67EVpG3IenkYvDptKSMRj5pZUhENjRlYU1e6aVqu420JTlVfmlmYGFyNCYviJ2ZWZoVrblLm25uFuVMcgJTZp1X5gmWkGzuyeeTfioF6JyCDopkoWcdqmeXilrJ6FCOOpRopD9O6k6luNCJ6V5wUqSpRZd+mqSYnN7iqalFhaplqrasyqpYWXYEqzOlzmpnA0mNKquuiblqa61kQgrsqWreSqqx/8e+eaeSyqIi7bTUVmvttdhmq+223Hbr7bejCCDuuOSWa+656Kar7rrnSjDAu/DGK++89NZr77340vsru/z2224E+QYs8MAEw7uvvwj3627BDDfM8MEJR5zuwg5XbHG9EEusMbkUX+zxxRlvvHHHH5f8cK4ip+wvySa3HHDIKifMsss0Y4xyzDijO3PNPBt8c85Aj7tzzzzDHPS6QxNNs9FHTwyw0lAPwHTT/0IQNdRTU11u0ld/nLXWQj/dddE/g50y12Nb/LXZaKft8Npgt+32ycyafbTccxMMt9Z45y3w3lT37Xe+qEnGruDxzihxalU/ULHiETNuLuI+k7i44f9Ii013j5Fjri7l70Ius+dOW/32hxpLvrXmBYuOsOocs6436pfndrjsA7u+Muk64/437Z3bnrnpDeuuMO+NO/A48KML/7nvLzP/OvKTQ0+49Ls7X7rjp1sevHu1c1889sdr3zvxm1eYOvWro986+fzCHrb7s3vfPPjfK9895/ePMLL1+DKe3c6Hv/fZb4DPM5++4IfA9hWwfvxrIAH9tz/1STCBD8wdAy8oNfYlboMXlF/oQChBEXbwgByMnQLnJcAUmrCFHDTh4FhYNrZ5cIY2q5sLb4hDGuowhjzs4Qd/GMIgCnGERCyhEY8IOAxS8IgVZE8Kk2cfKI4viQ2UIRPAaxi3JQqxiXcDoBXtVbgVOlB/YzTgb9ZnRhWKL40axCIVQ/A/+sExgFwU1wvFeMchrjF8T8xfA/oYxz8Kko5sfCMh71XGDJZPkYvMoSH7V8VDLiCS15Nj9do4P0hiUl6NDCQlGfBJRoLrlKhMpSpXycpWuvKVsIylLGdJy1ra8pa4zKUud8nLXvryl8AMpjCHScxiGvOYyEymMpfJzGY685nQjKY0p0nNalrzmtjMpja3yc1uevOb4AynOMdJhwQAACH5BAUUAAQALDIAMgCcAJwAAAP/KLrcTjDKSWt0OFsIuv9gKI5kaZ6Ztq1s6iorKs90/apsTt1pbP/AIA+mK16Gj41wyWwan8ikpUmtRp/GaMNn7Xq3WJ2Wwf2arWHxmDg9u6np3JpdeduX8da8fO8j83xXSn6EQ4CDa4GFi2CHO3uIjJJkjo+JkZOTlZZjipmFmxNzAp6ffqESo6Wmd6hHl22sjK4ckLGyoLSqmLh9tAS7t72+urZ1QL+LycacNcuEz528M9HErsHHP9WtxbDZNtt24YbTMuNu5zerJulm7S7rJe9e8zjfzt2n+VrxJPVo+wQJo/GvSsFG9wgGFLeQ3EBqDdFFVFcOxUEnE1/0G3GR/0lHOs0UXss10ltIiCX1peRX8cRHIS83iniJLVRNUcgyfonZkp1Oej/tnTT3K87NSkdfgSuaJukhp8ByMsUCNQ/UIFPDVDXKDKe2rFC6IhWrFB/YIlubkq319awak5uuSnWrB+5Yu2VF0pUpBZXctnt7jhqMl63KhMMIU3z4hm9ixY4xMn6sGENkj4IpVyaVuctlzdImn/kMWiDixp1L/z08VPVm0lhTuw59WqLo2YNhz22NO7dsOL9789ANmLfwwlGhBT8Obzke58wtQ499O/qf6bu9WvddHWj37RqxF9cOHrky8ZvTs/wOkH2IwPDjy59Pv779+/jz69/Pv7////8ABijggAQWaOCBCCao4FQDNOjggxBGKOGEFFZooYQrBKDhhhx26OGHIIYo4ogfXmjiiSim6GCGJLbo4oswaqjijDTSyGKMOOYYY4089ljhjToGKWSJPhZpJJBDJimkkUz2iKSSUO7Y5JQqPhnllSRSqeWJVmLpJZFbhjlhl1+WKaOYaEJIpplfpulmg2uyieWbbsYpZ5R0pmnnnUrmieaefA7pp5iABhrkoGEWamiOiG6p6KJSNjrlo5C+KCmVlFba4qWTbqCpl5w2memnIvLIkwVB6mdqUBh6qqOqNZ5aQar5rbpSiqMGAKuNrEaY664zykoBrfjZ6lesruYIbJX/vaqZLI7L4trsg7/WiuytKFZb7LXH8orqq9Z6222wz8YYbbbTrlgujOdymS6c677YronCTkDsfcbaxO2w4G4rrr7/2tsvvvvGVbAE99qXr8EBIzywwgc7srDDyoZLLrbufluxv6EOUFTC9XWsLi0g0ycyvCQ/HPLJH6tsMsu/lDzfyR7H7PLMMKe8McEit7wzxD3b/PPKQesMrcWh+kxqnzm7sjSeTaPyNJQ0Kz31oVGHcnWSVQu9tY5dG/01jmE7PTbYWW9yNtpFm712pDQ3HMHbZEf8lN0E0A03sxjTG6/eIU4sMd6AW4q3VYQXvunhXMkNgeKLOw6I4I9DPiLlGZMnbnngjKsl+ealdq6V5qB7iDnin5f+YQIAIfkEBRQABAAsMgAyAJwAnAAAA/84utxOMMpJa3Q4Wyi6/2AojmRpnpm2rWzqKisqz3T9qmxO3Wls/8AgD6YrXoaPjXDJbBqfyKSlSa1Gn8Zow2fterdYnZbB/ZqtYfGYOD27qencml1525fx1rx87yPzfFdKfoRDgINrgYWLYIc7e4iMkmSOj4mRk5OVlmOKmYWbE3MDnp9+oRKjpaZ3qEeXbayMrhyQsbKgtKqYuH20BLu3vb66tnVAv4vJxpw1y4TPnbwz0cSuwcc/1a3FsNk223bhhtMy427nN6sm6WbtLusl717zON/O3af5WvEk9Wj7BAmj8a9KwUb3CAYUt5DcQGoN0UVUVw7FQScTX/QbcZH/SUc6zRReyzXSW0iIJfWl5FfxxEchLzeKeIktVE1RyDJ+idmSnU56P+2dNPcrzs1KR1+BK5om6SGnwHIyxQI1D9QgU8NUNcoMp7asULoiFasUH9giW5uSrfX1rBqTm65KdasH7li7ZUXSlSkFldy2e3uOGoyXrcqEwwhTfPiGb2LFjjEyfqwYQ2SPgilXJpW5y2XN0iaf+QxaIOLGnUv/PTxU9WbSWFO7Dn1aoujZg2HPbY07t2w4v3vz0A2Yt/DCUaEFPw5vOR7nzC1Dj307+p/pu71a910daPftGrEX1w4euTLxm9Oz/A6QfYjA8OPLn0+/vv37+PPr38+/v////wAGKOCABBZo4IEIJqjgVAE06OCDEEYo4YQUVmihhMQBoOGGHHbo4YcghsjhhSSWaOKJDmYo4oostqghijDGGKOKLtZo44sy5qgjhTTe6OOKOwYpZAA9/mikh0MmKWORRzYJgJJQnsikk0ZGaeWFU1Lp45VcTpilljZ2KeaDX4Lp4pholmkmi2iOqeaaIrYp5ptwgihnl3TWieSdV+ap54h8WunnnzgGCuWghBoaJaJ/KnooeoTW6KiSjOo5aZKV1pnjL5tCp1+nroBaG4ufLkmLqMaJWOqMp5rqXoerwsipq6OuGCuKs7L6Koe3StmqrrWqmh+qmxCbipG9mpirrP+eDktrKMbmVWOyJS6La7P4RXuItsn5SC2J1vq664bfYvkrs+NqWK6F4SqL7X3c5sHtketW2G6179oXbxzzIusssNA+S56N9fJ47rXpAlCwlweLG2yIC7fJU7aXkhnUhxGnebGHGbu5Maz/Vkzkx7yGXPHE8IrcIMr6qjzySgSbfCnL9bn8sl/+UqwyTZHeaDPPPUvqMtBBt/gzyUVvOTTSSYe5NMxNr3k01FGDOTXOVWv6NNZZS721TV3DaXO/YZu5bxpkl63l2WGkrbaTbGPh9ttHxv3E3HT/aLcReOfts8CV9O230AAXC7i0gxOOLiqCJ87m4dtC3q3jThceuOQElP+YAAAh+QQFFAAEACwyADIAnACcAAAD/xi63E4wyklrdDhbOLr/YCiOZGmKWcpsbEuoMHvOdG17sOruVJ7Kt6Aw6NPwjq/iYzNsOkvKJXIXbQCfWGx1NaVuFdesWPgFd13lQHjMpqXP6PK6TSe94ay7pc6HyvEbehV9hCGCgBOHE4WMHYqIEI8RjYySiJYElIWYeJiahJxwnp98oWejpHSmXaipbKtTra5isEiys1p/kIm6g7hjtUe3v03BPMM0uxTFvcpJX3M1zhLM0NORzYtD1xxDxl7We9vc1Vvcz+ZM49flVefIM+ftUe/Z1OvT80r14b5C8t7sQYJ3AiAZgZcQZsLnTF8RfunE/SMXsJ8zgiYMElHYSf9hE403vsWxqG0iu4oRp2EsAdKGyBYrSbSs8TKPR4bKHPqA6E6dyXwoe16LOWKmG46ibv5sGJQeN6IijM6oGUhpkHMdSe6CGgJrUq0Drd7wegppWbDdlpIFl/KiWBtrY5ll9VZaXGFz5aJdqPZu1b1Z25a86petUJV1kxUeKXhr4niLYaaZTFmKP03RjlbePDkzIc8nOIt+3Ae0idGonUrE7HNj6tc6WlMy7Qe2bcvLSNG2c7v3gt1tgKPw7Vv4GOMgiBeX3Qj5B+W9nWOR7gi6bepOsFu/zpyR9u2vsX/srhn8aPE47x00f578Z/eh2bdfPRv+afmi0fed1BQ/VzH/3/lXmX6E0eeSgAPaV0eACP6XBXaRRSjhhBRWaOGFGGao4YYcdujhhyCGKOKIJJZo4okopqjiimQB4OKLMMYo44w01mjjjTMSKMCOPPbo449ABinkkDgWaeSROOpI5JJMNonkk1BGqaSTVFYZ5ZVY3jillVx2meWXSG7p5Zhkgmmmi2KWqeaZbBqZ5ppwtilnjG/GaeecbNZ55554Yqknn4D2eeSfgRYqaI2EGqrooS8muiijkDr6KKSCSjoppXNaeimmeSq46aec2qgpqKH66SmpqJYKwKipqjroqa3yKVWSsP64oaknSVmrj7deOauWu/bYq665QgmhhrgCRexl/1UOayxFy+bGpbNP/ipqsDxSGya0zxropLavFlsttjuC6ya343rbpLlFWosouQKwS6u426rLpLzA0hsus1Tie62+59q7pL/vAtwuvATT6K7CCCPrK7r18vutw9Hm9LDARCacI8T7SmulxjIuvDHGQ4JMJ8cBS7wuxa6GjPK9LLcMo8i2xiwzmi8PbPPNNPO6s8w9C/tzy0FnO7SrRZd7tKpJx7t0qU2bzGjUT4fadKxYn2xw1lwfvHXXYDP8ddhkN5pz2WhfjTbQZ68dttpuM9123De7PDbddZvJatZUk4x3xbsk6/Hfa/atMuGCWww4f4gXPrfYhzferbKTDy554hmBXxz55R0rXvlgnGvO1OJphS665+luTncCADs="},null,8,["style"])]),!0)])),_:3})):b("",!0),o.isError?(m(),p(n,{key:1,class:"uqrcode-error",onClick:r.onClick},{default:f((()=>[k(t.$slots,"error",{error:o.error},(()=>[v(d,{class:"uqrcode-error-message"},{default:f((()=>[w(C(o.error.errMsg),1)])),_:1})]),!0)])),_:3},8,["onClick"])):b("",!0),o.isH5Save?(m(),p(n,{key:2,class:"uqrcode-h5-save"},{default:f((()=>[k(t.$slots,"h5save",{tempFilePath:o.tempFilePath},(()=>[v(l,{class:"uqrcode-h5-save-image",src:o.tempFilePath},null,8,["src"]),v(d,{class:"uqrcode-h5-save-text"},{default:f((()=>[w(C(t.h5SaveIsDownload?"若保存失败，":"")+"请长按二维码进行保存",1)])),_:1})]),!0),v(n,{class:"uqrcode-h5-save-close",onClick:e[0]||(e[0]=I((t=>o.isH5Save=!1),["stop"]))},{default:f((()=>[v(n,{class:"uqrcode-h5-save-close-before"}),v(n,{class:"uqrcode-h5-save-close-after"})])),_:1})])),_:3})):b("",!0)])),_:3},8,["class","style"])}],["__scopeId","data-v-2455db00"]]);var kt={abbr:!0,b:!0,big:!0,code:!0,del:!0,em:!0,i:!0,ins:!0,label:!0,q:!0,small:!0,span:!0,strong:!0,sub:!0,sup:!0};const wt={isInline:function(t,e){return kt[t]||-1!==(e||"").indexOf("display:inline")}},Ct=t=>{t.$wxs||(t.$wxs=[]),t.$wxs.push("handler"),t.mixins||(t.mixins=[]),t.mixins.push({beforeCreate(){this.handler=wt}})},It={name:"node",options:{},data:()=>({ctrl:{}}),props:{name:String,attrs:{type:Object,default:()=>({})},childs:Array,opts:Array},components:{},mounted(){if(this.$nextTick((()=>{for(this.root=this.$parent;"uv-parse"!==this.root.$options.name;this.root=this.root.$parent);})),this.opts[0]){let t;for(t=this.childs.length;t--&&"img"!==this.childs[t].name;);-1!==t&&(this.observer=D(this).relativeToViewport({top:500,bottom:500}),this.observer.observe("._img",(t=>{t.intersectionRatio&&(this.$set(this.ctrl,"load",1),this.observer.disconnect())})))}},beforeDestroy(){this.observer&&this.observer.disconnect()},methods:{play(t){if(this.root.$emit("play"),this.root.pauseVideo){let e=!1;const i=t.target.id;for(let t=this.root._videos.length;t--;)this.root._videos[t].id===i?e=!0:this.root._videos[t].pause();if(!e){const t=B(i,this);t.id=i,this.root.playbackRate&&t.playbackRate(this.root.playbackRate),this.root._videos.push(t)}}},imgTap(t){const e=this.childs[t.currentTarget.dataset.i];e.a?this.linkTap(e.a):e.attrs.ignore||(e.attrs.src=e.attrs.src||e.attrs["data-src"],this.root.$emit("imgtap",e.attrs),this.root.previewImg&&L({current:parseInt(e.attrs.i),urls:this.root.imgList}))},imgLongTap(t){},imgLoad(t){const e=t.currentTarget.dataset.i;(this.opts[1]&&!this.ctrl[e]||-1===this.ctrl[e])&&this.$set(this.ctrl,e,1),this.checkReady()},checkReady(){this.root&&!this.root.lazyLoad&&(this.root._unloadimgs-=1,this.root._unloadimgs||setTimeout((()=>{this.root.getRect().then((t=>{this.root.$emit("ready",t)})).catch((()=>{this.root.$emit("ready",{})}))}),350))},linkTap(t){const e=t.currentTarget?this.childs[t.currentTarget.dataset.i]:{},i=e.attrs||t,s=i.href;this.root.$emit("linktap",Object.assign({innerText:this.root.getText(e.children||[])},i)),s&&("#"===s[0]?this.root.navigateTo(s.substring(1)).catch((()=>{})):s.split("?")[0].includes("://")?this.root.copyLink&&window.open(s):P({url:s,fail(){z({url:s,fail(){}})}}))},mediaError(t){const e=t.currentTarget.dataset.i,i=this.childs[e];if("video"===i.name||"audio"===i.name){let t=(this.ctrl[e]||0)+1;if(t>i.src.length&&(t=0),t<i.src.length)return void this.$set(this.ctrl,e,t)}else if("img"===i.name){if(this.opts[0]&&!this.ctrl.load)return;this.opts[2]&&this.$set(this.ctrl,e,-1),this.checkReady()}this.root&&this.root.$emit("error",{source:i.name,attrs:i.attrs})}}};Ct(It);const St=l(It,[["render",function(t,e,i,s,o,r){const a=T,n=A,l=E("node",!0),d=x,h=R,u=Y;return m(),p(d,{id:i.attrs.id,class:S("_block _"+i.name+" "+i.attrs.class),style:y(i.attrs.style)},{default:f((()=>[(m(!0),N(M,null,j(i.childs,((s,c)=>(m(),N(M,{key:c},["img"===s.name&&!s.t&&(i.opts[1]&&!o.ctrl[c]||o.ctrl[c]<0)?(m(),p(a,{key:0,class:"_img",style:y(s.attrs.style),src:o.ctrl[c]<0?i.opts[2]:i.opts[1],mode:"widthFix"},null,8,["style","src"])):b("",!0),"img"===s.name?(m(),N("img",{key:1,id:s.attrs.id,class:S("_img "+s.attrs.class),style:y((-1===o.ctrl[c]?"display:none;":"")+s.attrs.style),src:s.attrs.src||(o.ctrl.load?s.attrs["data-src"]:""),"data-i":c,onLoad:e[0]||(e[0]=(...t)=>r.imgLoad&&r.imgLoad(...t)),onError:e[1]||(e[1]=(...t)=>r.mediaError&&r.mediaError(...t)),onClick:e[2]||(e[2]=I(((...t)=>r.imgTap&&r.imgTap(...t)),["stop"])),onLongpress:e[3]||(e[3]=(...t)=>r.imgLongTap&&r.imgLongTap(...t))},null,46,["id","src","data-i"])):s.text?(m(),p(n,{key:2,decode:""},{default:f((()=>[w(C(s.text),1)])),_:2},1024)):"br"===s.name?(m(),p(n,{key:3},{default:f((()=>[w("\\n")])),_:1})):"a"===s.name?(m(),p(d,{key:4,id:s.attrs.id,class:S((s.attrs.href?"_a ":"")+s.attrs.class),"hover-class":"_hover",style:y("display:inline;"+s.attrs.style),"data-i":c,onClick:I(r.linkTap,["stop"])},{default:f((()=>[v(l,{name:"span",childs:s.children,opts:i.opts,style:{display:"inherit"}},null,8,["childs","opts"])])),_:2},1032,["id","class","style","data-i","onClick"])):"video"===s.name?(m(),p(h,{key:5,id:s.attrs.id,class:S(s.attrs.class),style:y(s.attrs.style),autoplay:s.attrs.autoplay,controls:s.attrs.controls,loop:s.attrs.loop,muted:s.attrs.muted,"object-fit":s.attrs["object-fit"],poster:s.attrs.poster,src:s.src[o.ctrl[c]||0],"data-i":c,onPlay:r.play,onError:r.mediaError},null,8,["id","class","style","autoplay","controls","loop","muted","object-fit","poster","src","data-i","onPlay","onError"])):"iframe"===s.name?(m(),N("iframe",{key:6,style:y(s.attrs.style),allowfullscreen:s.attrs.allowfullscreen,frameborder:s.attrs.frameborder,src:s.attrs.src},null,12,["allowfullscreen","frameborder","src"])):"embed"===s.name?(m(),N("embed",{key:7,style:y(s.attrs.style),src:s.attrs.src},null,12,["src"])):"table"===s.name&&s.c||"li"===s.name?(m(),p(d,{key:8,id:s.attrs.id,class:S("_"+s.name+" "+s.attrs.class),style:y(s.attrs.style)},{default:f((()=>["li"===s.name?(m(),p(l,{key:0,childs:s.children,opts:i.opts},null,8,["childs","opts"])):(m(!0),N(M,{key:1},j(s.children,((t,e)=>(m(),p(d,{key:e,class:S("_"+t.name+" "+t.attrs.class),style:y(t.attrs.style)},{default:f((()=>["td"===t.name||"th"===t.name?(m(),p(l,{key:0,childs:t.children,opts:i.opts},null,8,["childs","opts"])):(m(!0),N(M,{key:1},j(t.children,((t,e)=>(m(),N(M,{key:e},["td"===t.name||"th"===t.name?(m(),p(d,{key:0,class:S("_"+t.name+" "+t.attrs.class),style:y(t.attrs.style)},{default:f((()=>[v(l,{childs:t.children,opts:i.opts},null,8,["childs","opts"])])),_:2},1032,["class","style"])):(m(),p(d,{key:1,class:S("_"+t.name+" "+t.attrs.class),style:y(t.attrs.style)},{default:f((()=>[(m(!0),N(M,null,j(t.children,((t,e)=>(m(),p(d,{key:e,class:S("_"+t.name+" "+t.attrs.class),style:y(t.attrs.style)},{default:f((()=>[v(l,{childs:t.children,opts:i.opts},null,8,["childs","opts"])])),_:2},1032,["class","style"])))),128))])),_:2},1032,["class","style"]))],64)))),128))])),_:2},1032,["class","style"])))),128))])),_:2},1032,["id","class","style"])):s.c||t.handler.isInline(s.name,s.attrs.style)?2===s.c?(m(),p(d,{key:10,id:s.attrs.id,class:S("_block _"+s.name+" "+s.attrs.class),style:y(s.f+";"+s.attrs.style)},{default:f((()=>[(m(!0),N(M,null,j(s.children,((t,e)=>(m(),p(l,{key:e,style:y(t.f),name:t.name,attrs:t.attrs,childs:t.children,opts:i.opts},null,8,["style","name","attrs","childs","opts"])))),128))])),_:2},1032,["id","class","style"])):(m(),p(l,{key:11,style:y(s.f),name:s.name,attrs:s.attrs,childs:s.children,opts:i.opts},null,8,["style","name","attrs","childs","opts"])):(m(),p(u,{key:9,id:s.attrs.id,style:y(s.f),"user-select":i.opts[4],nodes:[s]},null,8,["id","style","user-select","nodes"]))],64)))),128))])),_:1},8,["id","class","style"])}],["__scopeId","data-v-f6f93144"]]),Ot={trustTags:Bt("a,abbr,ad,audio,b,blockquote,br,code,col,colgroup,dd,del,dl,dt,div,em,fieldset,h1,h2,h3,h4,h5,h6,hr,i,img,ins,label,legend,li,ol,p,q,ruby,rt,source,span,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,title,ul,video"),blockTags:Bt("address,article,aside,body,caption,center,cite,footer,header,html,nav,pre,section"),ignoreTags:Bt("area,base,canvas,embed,frame,head,iframe,input,link,map,meta,param,rp,script,source,style,textarea,title,track,wbr"),voidTags:Bt("area,base,br,col,circle,ellipse,embed,frame,hr,img,input,line,link,meta,param,path,polygon,rect,source,track,use,wbr"),entities:{lt:"<",gt:">",quot:'"',apos:"'",ensp:" ",emsp:" ",nbsp:" ",semi:";",ndash:"–",mdash:"—",middot:"·",lsquo:"‘",rsquo:"’",ldquo:"“",rdquo:"”",bull:"•",hellip:"…",larr:"←",uarr:"↑",rarr:"→",darr:"↓"},tagStyle:{address:"font-style:italic",big:"display:inline;font-size:1.2em",caption:"display:table-caption;text-align:center",center:"text-align:center",cite:"font-style:italic",dd:"margin-left:40px",mark:"background-color:yellow",pre:"font-family:monospace;white-space:pre",s:"text-decoration:line-through",small:"display:inline;font-size:0.8em",strike:"text-decoration:line-through",u:"text-decoration:underline"},svgDict:{animatetransform:"animateTransform",lineargradient:"linearGradient",viewbox:"viewBox",attributename:"attributeName",repeatcount:"repeatCount",repeatdur:"repeatDur"}},xt={},{windowWidth:Tt}=q(),At=Bt(" ,\r,\n,\t,\f");let Dt=0;function Bt(t){const e=Object.create(null),i=t.split(",");for(let s=i.length;s--;)e[i[s]]=!0;return e}function Lt(t,e){let i=t.indexOf("&");for(;-1!==i;){const s=t.indexOf(";",i+3);let o;if(-1===s)break;"#"===t[i+1]?(o=parseInt(("x"===t[i+2]?"0":"")+t.substring(i+2,s)),isNaN(o)||(t=t.substr(0,i)+String.fromCharCode(o)+t.substr(s+1))):(o=t.substring(i+1,s),(Ot.entities[o]||"amp"===o&&e)&&(t=t.substr(0,i)+(Ot.entities[o]||"&")+t.substr(s+1))),i=t.indexOf("&",i+1)}return t}function Pt(t){let e=t.length-1;for(let i=e;i>=-1;i--)(-1===i||t[i].c||!t[i].name||"div"!==t[i].name&&"p"!==t[i].name&&"h"!==t[i].name[0]||(t[i].attrs.style||"").includes("inline"))&&(e-i>=5&&t.splice(i+1,e-i,{name:"div",attrs:{},children:t.slice(i+1,e+1)}),e=i-1)}function zt(t){this.options=t||{},this.tagStyle=Object.assign({},Ot.tagStyle,this.options.tagStyle),this.imgList=t.imgList||[],this.imgList._unloadimgs=0,this.plugins=t.plugins||[],this.attrs=Object.create(null),this.stack=[],this.nodes=[],this.pre=(this.options.containerStyle||"").includes("white-space")&&this.options.containerStyle.includes("pre")?2:0}function Et(t){this.handler=t}Ot.ignoreTags.iframe=void 0,Ot.trustTags.iframe=!0,Ot.ignoreTags.embed=void 0,Ot.trustTags.embed=!0,zt.prototype.parse=function(t){for(let e=this.plugins.length;e--;)this.plugins[e].onUpdate&&(t=this.plugins[e].onUpdate(t,Ot)||t);for(new Et(this).parse(t);this.stack.length;)this.popNode();return this.nodes.length>50&&Pt(this.nodes),this.nodes},zt.prototype.expose=function(){for(let t=this.stack.length;t--;){const e=this.stack[t];if(e.c||"a"===e.name||"video"===e.name||"audio"===e.name)return;e.c=1}},zt.prototype.hook=function(t){for(let e=this.plugins.length;e--;)if(this.plugins[e].onParse&&!1===this.plugins[e].onParse(t,this))return!1;return!0},zt.prototype.getUrl=function(t){const e=this.options.domain;return"/"===t[0]?"/"===t[1]?t=(e?e.split("://")[0]:"http")+":"+t:e&&(t=e+t):t.includes("data:")||t.includes("://")||e&&(t=e+"/"+t),t},zt.prototype.parseStyle=function(t){const e=t.attrs,i=(this.tagStyle[t.name]||"").split(";").concat((e.style||"").split(";")),s={};let o="";e.id&&!this.xml&&(this.options.useAnchor?this.expose():"img"!==t.name&&"a"!==t.name&&"video"!==t.name&&"audio"!==t.name&&(e.id=void 0)),e.width&&(s.width=parseFloat(e.width)+(e.width.includes("%")?"%":"px"),e.width=void 0),e.height&&(s.height=parseFloat(e.height)+(e.height.includes("%")?"%":"px"),e.height=void 0);for(let r=0,a=i.length;r<a;r++){const t=i[r].split(":");if(t.length<2)continue;const e=t.shift().trim().toLowerCase();let a=t.join(":").trim();if("-"===a[0]&&a.lastIndexOf("-")>0||a.includes("safe"))o+=`;${e}:${a}`;else if(!s[e]||a.includes("import")||!s[e].includes("import")){if(a.includes("url")){let t=a.indexOf("(")+1;if(t){for(;'"'===a[t]||"'"===a[t]||At[a[t]];)t++;a=a.substr(0,t)+this.getUrl(a.substr(t))}}else a.includes("rpx")&&(a=a.replace(/[0-9.]+\s*rpx/g,(t=>parseFloat(t)*Tt/750+"px")));s[e]=a}}return t.attrs.style=o,s},zt.prototype.onTagName=function(t){this.tagName=this.xml?t:t.toLowerCase(),"svg"===this.tagName&&(this.xml=(this.xml||0)+1,Ot.ignoreTags.style=void 0)},zt.prototype.onAttrName=function(t){"data-"===(t=this.xml?t:t.toLowerCase()).substr(0,5)?"data-src"!==t||this.attrs.src?"img"===this.tagName||"a"===this.tagName?this.attrName=t:this.attrName=void 0:this.attrName="src":(this.attrName=t,this.attrs[t]="T")},zt.prototype.onAttrVal=function(t){const e=this.attrName||"";"style"===e||"href"===e?this.attrs[e]=Lt(t,!0):e.includes("src")?this.attrs[e]=this.getUrl(Lt(t,!0)):e&&(this.attrs[e]=t)},zt.prototype.onOpenTag=function(t){const e=Object.create(null);e.name=this.tagName,e.attrs=this.attrs,this.options.nodes.length&&(e.type="node"),this.attrs=Object.create(null);const i=e.attrs,s=this.stack[this.stack.length-1],o=s?s.children:this.nodes,r=this.xml?t:Ot.voidTags[e.name];if(xt[e.name]&&(i.class=xt[e.name]+(i.class?" "+i.class:"")),"embed"===e.name&&this.expose(),"video"!==e.name&&"audio"!==e.name||("video"!==e.name||i.id||(i.id="v"+Dt++),i.controls||i.autoplay||(i.controls="T"),e.src=[],i.src&&(e.src.push(i.src),i.src=void 0),this.expose()),r){if(!this.hook(e)||Ot.ignoreTags[e.name])return void("base"!==e.name||this.options.domain?"source"===e.name&&s&&("video"===s.name||"audio"===s.name)&&i.src&&s.src.push(i.src):this.options.domain=i.href);const t=this.parseStyle(e);if("img"===e.name){if(i.src&&(i.src.includes("webp")&&(e.webp="T"),i.src.includes("data:")&&!i["original-src"]&&(i.ignore="T"),!i.ignore||e.webp||i.src.includes("cloud://"))){for(let o=this.stack.length;o--;){const s=this.stack[o];"a"===s.name&&(e.a=s.attrs),"table"!==s.name||e.webp||i.src.includes("cloud://")||(!t.display||t.display.includes("inline")?e.t="inline-block":e.t=t.display,t.display=void 0),s.c=1}i.i=this.imgList.length.toString();let s=i["original-src"]||i.src;this.imgList.push(s),e.t||(this.imgList._unloadimgs+=1),this.options.lazyLoad&&(i["data-src"]=i.src,i.src=void 0)}"inline"===t.display&&(t.display=""),i.ignore&&(t["max-width"]=t["max-width"]||"100%",i.style+=";-webkit-touch-callout:none"),parseInt(t.width)>Tt&&(t.height=void 0),isNaN(parseInt(t.width))||(e.w="T"),!isNaN(parseInt(t.height))&&(!t.height.includes("%")||s&&(s.attrs.style||"").includes("height"))&&(e.h="T")}else if("svg"===e.name)return o.push(e),this.stack.push(e),void this.popNode();for(const e in t)t[e]&&(i.style+=`;${e}:${t[e].replace(" !important","")}`);i.style=i.style.substr(1)||void 0}else("pre"===e.name||(i.style||"").includes("white-space")&&i.style.includes("pre"))&&2!==this.pre&&(this.pre=e.pre=1),e.children=[],this.stack.push(e);o.push(e)},zt.prototype.onCloseTag=function(t){let e;for(t=this.xml?t:t.toLowerCase(),e=this.stack.length;e--&&this.stack[e].name!==t;);if(-1!==e)for(;this.stack.length>e;)this.popNode();else if("p"===t||"br"===t){(this.stack.length?this.stack[this.stack.length-1].children:this.nodes).push({name:t,attrs:{class:xt[t]||"",style:this.tagStyle[t]||""}})}},zt.prototype.popNode=function(){const t=this.stack.pop();let e=t.attrs;const i=t.children,s=this.stack[this.stack.length-1],o=s?s.children:this.nodes;if(!this.hook(t)||Ot.ignoreTags[t.name])return"title"===t.name&&i.length&&"text"===i[0].type&&this.options.setTitle&&F({title:i[0].text}),void o.pop();if(t.pre&&2!==this.pre){this.pre=t.pre=void 0;for(let t=this.stack.length;t--;)this.stack[t].pre&&(this.pre=1)}const r={};if("svg"===t.name){if(this.xml>1)return void this.xml--;let i="";const s=e.style;return e.style="",e.xmlns="http://www.w3.org/2000/svg",function t(e){if("text"===e.type)return void(i+=e.text);const s=Ot.svgDict[e.name]||e.name;i+="<"+s;for(const o in e.attrs){const t=e.attrs[o];t&&(i+=` ${Ot.svgDict[o]||o}="${t}"`)}if(e.children){i+=">";for(let i=0;i<e.children.length;i++)t(e.children[i]);i+="</"+s+">"}else i+="/>"}(t),t.name="img",t.attrs={src:"data:image/svg+xml;utf8,"+i.replace(/#/g,"%23"),style:s,ignore:"T"},t.children=void 0,this.xml=!1,void(Ot.ignoreTags.style=!0)}if(e.align&&("table"===t.name?"center"===e.align?r["margin-inline-start"]=r["margin-inline-end"]="auto":r.float=e.align:r["text-align"]=e.align,e.align=void 0),e.dir&&(r.direction=e.dir,e.dir=void 0),"font"===t.name&&(e.color&&(r.color=e.color,e.color=void 0),e.face&&(r["font-family"]=e.face,e.face=void 0),e.size)){let t=parseInt(e.size);isNaN(t)||(t<1?t=1:t>7&&(t=7),r["font-size"]=["x-small","small","medium","large","x-large","xx-large","xxx-large"][t-1]),e.size=void 0}if((e.class||"").includes("align-center")&&(r["text-align"]="center"),Object.assign(r,this.parseStyle(t)),"table"!==t.name&&parseInt(r.width)>Tt&&(r["max-width"]="100%",r["box-sizing"]="border-box"),Ot.blockTags[t.name]?t.name="div":Ot.trustTags[t.name]||this.xml||(t.name="span"),"a"===t.name||"ad"===t.name||"iframe"===t.name)this.expose();else if("video"===t.name)(r.height||"").includes("auto")&&(r.height=void 0);else if("ul"!==t.name&&"ol"!==t.name||!t.c){if("table"===t.name){let s=parseFloat(e.cellpadding),o=parseFloat(e.cellspacing);const a=parseFloat(e.border),n=r["border-color"],l=r["border-style"];if(t.c&&(isNaN(s)&&(s=2),isNaN(o)&&(o=2)),a&&(e.style+=`;border:${a}px ${l||"solid"} ${n||"gray"}`),t.flag&&t.c){r.display="grid",o?(r["grid-gap"]=o+"px",r.padding=o+"px"):a&&(e.style+=";border-left:0;border-top:0");const d=[],h=[],u=[],c={};!function t(e){for(let i=0;i<e.length;i++)"tr"===e[i].name?h.push(e[i]):t(e[i].children||[])}(i);for(let t=1;t<=h.length;t++){let e=1;for(let i=0;i<h[t-1].children.length;i++){const r=h[t-1].children[i];if("td"===r.name||"th"===r.name){for(;c[t+"."+e];)e++;let i=r.attrs.style||"",h=i.indexOf("width")?i.indexOf(";width"):0;if(-1!==h){let t=i.indexOf(";",h+6);-1===t&&(t=i.length),r.attrs.colspan||(d[e]=i.substring(h?h+7:6,t)),i=i.substr(0,h)+i.substr(t)}if(i+=";display:flex",h=i.indexOf("vertical-align"),-1!==h){const t=i.substr(h+15,10);t.includes("middle")?i+=";align-items:center":t.includes("bottom")&&(i+=";align-items:flex-end")}else i+=";align-items:center";if(h=i.indexOf("text-align"),-1!==h){const t=i.substr(h+11,10);t.includes("center")?i+=";justify-content: center":t.includes("right")&&(i+=";justify-content: right")}if(i=(a?`;border:${a}px ${l||"solid"} ${n||"gray"}`+(o?"":";border-right:0;border-bottom:0"):"")+(s?`;padding:${s}px`:"")+";"+i,r.attrs.colspan&&(i+=`;grid-column-start:${e};grid-column-end:${e+parseInt(r.attrs.colspan)}`,r.attrs.rowspan||(i+=`;grid-row-start:${t};grid-row-end:${t+1}`),e+=parseInt(r.attrs.colspan)-1),r.attrs.rowspan){i+=`;grid-row-start:${t};grid-row-end:${t+parseInt(r.attrs.rowspan)}`,r.attrs.colspan||(i+=`;grid-column-start:${e};grid-column-end:${e+1}`);for(let i=1;i<r.attrs.rowspan;i++)for(let s=0;s<(r.attrs.colspan||1);s++)c[t+i+"."+(e-s)]=1}i&&(r.attrs.style=i),u.push(r),e++}}if(1===t){let t="";for(let i=1;i<e;i++)t+=(d[i]?d[i]:"auto")+" ";r["grid-template-columns"]=t}}t.children=u}else t.c&&(r.display="table"),isNaN(o)||(r["border-spacing"]=o+"px"),(a||s)&&function t(e){for(let i=0;i<e.length;i++){const o=e[i];"th"===o.name||"td"===o.name?(a&&(o.attrs.style=`border:${a}px ${l||"solid"} ${n||"gray"};${o.attrs.style||""}`),s&&(o.attrs.style=`padding:${s}px;${o.attrs.style||""}`)):o.children&&t(o.children)}}(i);if(this.options.scrollTable&&!(e.style||"").includes("inline")){const i=Object.assign({},t);t.name="div",t.attrs={style:"overflow:auto"},t.children=[i],e=i.attrs}}else if("td"!==t.name&&"th"!==t.name||!e.colspan&&!e.rowspan)if("ruby"===t.name){t.name="span";for(let t=0;t<i.length-1;t++)"text"===i[t].type&&"rt"===i[t+1].name&&(i[t]={name:"div",attrs:{style:"display:inline-block;text-align:center"},children:[{name:"div",attrs:{style:"font-size:50%;"+(i[t+1].attrs.style||"")},children:i[t+1].children},i[t]]},i.splice(t+1,1))}else t.c&&function(t){t.c=2;for(let e=t.children.length;e--;){const i=t.children[e];i.c&&"table"!==i.name||(t.c=1)}}(t);else for(let n=this.stack.length;n--;)if("table"===this.stack[n].name){this.stack[n].flag=1;break}}else{const t={a:"lower-alpha",A:"upper-alpha",i:"lower-roman",I:"upper-roman"};t[e.type]&&(e.style+=";list-style-type:"+t[e.type],e.type=void 0);for(let e=i.length;e--;)"li"===i[e].name&&(i[e].c=1)}if((r.display||"").includes("flex")&&!t.c)for(let n=i.length;n--;){const t=i[n];t.f&&(t.attrs.style=(t.attrs.style||"")+t.f,t.f=void 0)}const a=s&&((s.attrs.style||"").includes("flex")||(s.attrs.style||"").includes("grid"))&&!t.c;a&&(t.f=";max-width:100%"),i.length>=50&&t.c&&!(r.display||"").includes("flex")&&Pt(i);for(const n in r)if(r[n]){const i=`;${n}:${r[n].replace(" !important","")}`;a&&(n.includes("flex")&&"flex-direction"!==n||"align-self"===n||n.includes("grid")||"-"===r[n][0]||n.includes("width")&&i.includes("%"))?(t.f+=i,"width"===n&&(e.style+=";width:100%")):e.style+=i}e.style=e.style.substr(1)||void 0},zt.prototype.onText=function(t){if(!this.pre){let e,i="";for(let s=0,o=t.length;s<o;s++)At[t[s]]?(" "!==i[i.length-1]&&(i+=" "),"\n"!==t[s]||e||(e=!0)):i+=t[s];if(" "===i){if(e)return;{const t=this.stack[this.stack.length-1];if(t&&"t"===t.name[0])return}}t=i}const e=Object.create(null);if(e.type="text",e.text=Lt(t),this.hook(e)){(this.stack.length?this.stack[this.stack.length-1].children:this.nodes).push(e)}},Et.prototype.parse=function(t){this.content=t||"",this.i=0,this.start=0,this.state=this.text;for(let e=this.content.length;-1!==this.i&&this.i<e;)this.state()},Et.prototype.checkClose=function(t){const e="/"===this.content[this.i];return!!(">"===this.content[this.i]||e&&">"===this.content[this.i+1])&&(t&&this.handler[t](this.content.substring(this.start,this.i)),this.i+=e?2:1,this.start=this.i,this.handler.onOpenTag(e),"script"===this.handler.tagName?(this.i=this.content.indexOf("</",this.i),-1!==this.i&&(this.i+=2,this.start=this.i),this.state=this.endTag):this.state=this.text,!0)},Et.prototype.text=function(){if(this.i=this.content.indexOf("<",this.i),-1===this.i)return void(this.start<this.content.length&&this.handler.onText(this.content.substring(this.start,this.content.length)));const t=this.content[this.i+1];if(t>="a"&&t<="z"||t>="A"&&t<="Z")this.start!==this.i&&this.handler.onText(this.content.substring(this.start,this.i)),this.start=++this.i,this.state=this.tagName;else if("/"===t||"!"===t||"?"===t){this.start!==this.i&&this.handler.onText(this.content.substring(this.start,this.i));const e=this.content[this.i+2];if("/"===t&&(e>="a"&&e<="z"||e>="A"&&e<="Z"))return this.i+=2,this.start=this.i,void(this.state=this.endTag);let i="--\x3e";"!"===t&&"-"===this.content[this.i+2]&&"-"===this.content[this.i+3]||(i=">"),this.i=this.content.indexOf(i,this.i),-1!==this.i&&(this.i+=i.length,this.start=this.i)}else this.i++},Et.prototype.tagName=function(){if(At[this.content[this.i]]){for(this.handler.onTagName(this.content.substring(this.start,this.i));At[this.content[++this.i]];);this.i<this.content.length&&!this.checkClose()&&(this.start=this.i,this.state=this.attrName)}else this.checkClose("onTagName")||this.i++},Et.prototype.attrName=function(){let t=this.content[this.i];if(At[t]||"="===t){this.handler.onAttrName(this.content.substring(this.start,this.i));let e="="===t;const i=this.content.length;for(;++this.i<i;)if(t=this.content[this.i],!At[t]){if(this.checkClose())return;if(e)return this.start=this.i,void(this.state=this.attrVal);if("="!==this.content[this.i])return this.start=this.i,void(this.state=this.attrName);e=!0}}else this.checkClose("onAttrName")||this.i++},Et.prototype.attrVal=function(){const t=this.content[this.i],e=this.content.length;if('"'===t||"'"===t){if(this.start=++this.i,this.i=this.content.indexOf(t,this.i),-1===this.i)return;this.handler.onAttrVal(this.content.substring(this.start,this.i))}else for(;this.i<e;this.i++){if(At[this.content[this.i]]){this.handler.onAttrVal(this.content.substring(this.start,this.i));break}if(this.checkClose("onAttrVal"))return}for(;At[this.content[++this.i]];);this.i<e&&!this.checkClose()&&(this.start=this.i,this.state=this.attrName)},Et.prototype.endTag=function(){const t=this.content[this.i];if(At[t]||">"===t||"/"===t){if(this.handler.onCloseTag(this.content.substring(this.start,this.i)),">"!==t&&(this.i=this.content.indexOf(">",this.i),-1===this.i))return;this.start=++this.i,this.state=this.text}else this.i++};const Nt=[],Mt={name:"uv-parse",data:()=>({nodes:[]}),props:{containerStyle:{type:String,default:""},content:{type:String,default:""},copyLink:{type:[Boolean,String],default:!0},domain:String,errorImg:{type:String,default:""},lazyLoad:{type:[Boolean,String],default:!1},loadingImg:{type:String,default:""},pauseVideo:{type:[Boolean,String],default:!0},previewImg:{type:[Boolean,String],default:!0},scrollTable:[Boolean,String],selectable:[Boolean,String],setTitle:{type:[Boolean,String],default:!0},showImgMenu:{type:[Boolean,String],default:!0},tagStyle:Object,useAnchor:[Boolean,Number]},emits:["load","ready","imgtap","linktap","play","error"],components:{node:St},watch:{content(t){this.setContent(t)}},created(){this.plugins=[];for(let t=Nt.length;t--;)this.plugins.push(new Nt[t](this))},mounted(){this.content&&!this.nodes.length&&this.setContent(this.content)},beforeDestroy(){this._hook("onDetached")},methods:{in(t,e,i){t&&e&&i&&(this._in={page:t,selector:e,scrollTop:i})},navigateTo(t,e){return new Promise(((i,s)=>{if(!this.useAnchor)return void s(Error("Anchor is disabled"));e=e||parseInt(this.useAnchor)||0;const o=G().in(this._in?this._in.page:this).select((this._in?this._in.selector:"._root")+(t?` #${t}`:"")).boundingClientRect();this._in?o.select(this._in.selector).scrollOffset().select(this._in.selector).boundingClientRect():o.selectViewport().scrollOffset(),o.exec((t=>{if(!t[0])return void s(Error("Label not found"));const o=t[1].scrollTop+t[0].top-(t[2]?t[2].top:0)+e;this._in?this._in.page[this._in.scrollTop]=o:H({scrollTop:o,duration:300}),i()}))}))},getText(t){let e="";return function t(i){for(let s=0;s<i.length;s++){const o=i[s];if("text"===o.type)e+=o.text.replace(/&amp;/g,"&");else if("br"===o.name)e+="\n";else{const i="p"===o.name||"div"===o.name||"tr"===o.name||"li"===o.name||"h"===o.name[0]&&o.name[1]>"0"&&o.name[1]<"7";i&&e&&"\n"!==e[e.length-1]&&(e+="\n"),o.children&&t(o.children),i&&"\n"!==e[e.length-1]?e+="\n":"td"!==o.name&&"th"!==o.name||(e+="\t")}}}(t||this.nodes),e},getRect(){return new Promise(((t,e)=>{G().in(this).select("#_root").boundingClientRect().exec((i=>i[0]?t(i[0]):e(Error("Root label not found"))))}))},pauseMedia(){for(let t=(this._videos||[]).length;t--;)this._videos[t].pause()},setPlaybackRate(t){this.playbackRate=t;for(let e=(this._videos||[]).length;e--;)this._videos[e].playbackRate(t)},setContent(t,e){e&&this.imgList||(this.imgList=[]);const i=new zt(this).parse(t);if(this.$set(this,"nodes",e?(this.nodes||[]).concat(i):i),this._videos=[],this.$nextTick((()=>{this._hook("onLoad"),this.$emit("load")})),this.lazyLoad||this.imgList._unloadimgs<this.imgList.length/2){let t=0;const e=i=>{i&&i.height||(i={}),i.height===t?this.$emit("ready",i):(t=i.height,setTimeout((()=>{this.getRect().then(e).catch(e)}),350))};this.getRect().then(e).catch(e)}else this.imgList._unloadimgs||this.getRect().then((t=>{this.$emit("ready",t)})).catch((()=>{this.$emit("ready",{})}))},_hook(t){for(let e=Nt.length;e--;)this.plugins[e][t]&&this.plugins[e][t]()}}};const jt=l(Mt,[["render",function(t,e,i,s,o,r){const a=E("node"),n=x;return m(),p(n,{id:"_root",class:S((i.selectable?"_select ":"")+"_root"),style:y(i.containerStyle)},{default:f((()=>[o.nodes[0]?(m(),p(a,{key:1,childs:o.nodes,opts:[i.lazyLoad,i.loadingImg,i.errorImg,i.showImgMenu,i.selectable],name:"span"},null,8,["childs","opts"])):k(t.$slots,"default",{key:0},void 0,!0)])),_:3},8,["class","style"])}],["__scopeId","data-v-4d18ca0a"]]),Rt=l(W({__name:"uv-ui",setup(t){const e=_(null),i=X({size:300,useDynamicSize:!1,margin:10,backgroundColor:"#fff",foregroundImageSrc:"/static/logo.svg"}),s=()=>{e.value.remake({success:()=>{},fail:t=>{}})},o=_("level");K((()=>{setTimeout((()=>{o.value="chat"}),1e3)}));const r=_(),a=()=>{var t;null==(t=r.value)||t.open()},l=t=>{};return(t,d)=>{const h=Z(Q("uv-button"),n),u=Z(Q("uv-qrcode"),bt),c=x,g=Z(Q("uv-icon"),U),y=Z(Q("uv-parse"),jt),b=A,k=Z(Q("uv-popup"),$),C=V,I=E("layout-default-uni");return m(),p(I,null,{default:f((()=>[v(c,{class:"mt-10"},{default:f((()=>[v(h,{type:"primary",onClick:s},{default:f((()=>[w("重新生成二维码")])),_:1}),v(c,{class:"center mt-8"},{default:f((()=>[v(u,{ref_key:"qrcode",ref:e,size:"200px",value:"https://h5.uvui.cn",options:J(i)},null,8,["options"])])),_:1}),v(c,{class:"m-4 flex"},{default:f((()=>[v(g,{name:"home"}),v(g,{name:"home",color:"red"}),v(g,{name:"home",class:"text-green"}),v(g,{name:"home",color:"red",class:"text-green"}),v(g,{name:"home",color:"red",class:"text-green",size:"20"}),v(g,{name:"home",color:"red",class:"text-green w-10 h-10",size:"20"}),v(g,{name:"home",color:"red",class:"text-green w-20 h-20"}),v(g,{name:"home",color:"red",class:"text-green w-10",size:"20"}),v(g,{name:J(o)},null,8,["name"])])),_:1}),v(c,{class:"m-4"},{default:f((()=>[v(c,null,{default:f((()=>[w("富文本也是支持的：")])),_:1}),v(y,{content:'<div>\n\t\t\t\t\t<p style="color:red;" >露从今夜白，月是故乡明</p>\n\t\t\t\t\t<img src="https://cdn.uviewui.com/uview/swiper/2.jpg" />\n          </div>\n\t\t\t\t'})])),_:1}),v(k,{ref_key:"popup",ref:r,onChange:l},{default:f((()=>[v(c,null,{default:f((()=>[v(b,null,{default:f((()=>[w(" 丙辰中秋，欢饮达旦，大醉，作此篇，兼怀子由。 明月几时有？把酒问青天。 不知天上宫阙，今夕是何年。我欲乘风归去，又恐琼楼玉宇，高处不胜寒。起舞弄清影，何似在人间。 转朱阁，低绮户，照无眠。不应有恨，何事长向别时圆？人有悲欢离合，月有阴晴圆缺，此事古难全。 但愿人长久，千里共婵娟。 ")])),_:1})])),_:1})])),_:1},512),v(C,{onClick:a},{default:f((()=>[w("打开")])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-ab4123b6"]]);export{Rt as default};
