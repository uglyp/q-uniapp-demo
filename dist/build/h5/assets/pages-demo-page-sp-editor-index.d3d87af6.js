import{_ as t,Y as e,b as o,c as i,w as s,e as l,v as a,Z as n,f as r,n as c,t as d,q as u,F as h,s as b,E as f,i as g,G as m,I as p,K as k,ad as C,k as x,aX as y,r as _,x as v,C as L,D as I}from"./index-6e705c16.js";const S="#-*=*-*=*-*=*@-link超链接标识link-@*=*-*=*-*=*-#";const T=t({components:{ColorPicker:t({props:{color:{type:Object,default:()=>({r:0,g:0,b:0,a:0})},spareColor:{type:Array,default:()=>[]}},data:()=>({show:!1,active:!1,rgba:{r:0,g:0,b:0,a:1},hsb:{h:0,s:0,b:0},site:[{top:0,left:0},{left:0},{left:0}],index:0,bgcolor:{r:255,g:0,b:0,a:1},hex:"#000000",mode:!0,colorList:[{r:244,g:67,b:54,a:1},{r:233,g:30,b:99,a:1},{r:156,g:39,b:176,a:1},{r:103,g:58,b:183,a:1},{r:63,g:81,b:181,a:1},{r:33,g:150,b:243,a:1},{r:3,g:169,b:244,a:1},{r:0,g:188,b:212,a:1},{r:0,g:150,b:136,a:1},{r:76,g:175,b:80,a:1},{r:139,g:195,b:74,a:1},{r:205,g:220,b:57,a:1},{r:255,g:235,b:59,a:1},{r:255,g:193,b:7,a:1},{r:255,g:152,b:0,a:1},{r:255,g:87,b:34,a:1},{r:121,g:85,b:72,a:1},{r:158,g:158,b:158,a:1},{r:0,g:0,b:0,a:.5},{r:0,g:0,b:0,a:0}]}),created(){this.ready()},methods:{ready(){this.rgba=this.color,0!==this.spareColor.length&&(this.colorList=this.spareColor)},init(){this.hsb=this.rgbToHex(this.rgba),this.setValue(this.rgba)},moveHandle(){},open(){this.show=!0,this.$nextTick((()=>{this.init(),setTimeout((()=>{this.active=!0,setTimeout((()=>{this.getSelectorQuery()}),350)}),50)}))},close(){this.active=!1,this.$nextTick((()=>{setTimeout((()=>{this.show=!1}),500)}))},confirm(){this.close(),this.$emit("confirm",{rgba:this.rgba,hex:this.hex})},select(){this.mode=!this.mode},selectColor(t){this.setColorBySelect(t)},touchstart(t,e){const{pageX:o,pageY:i,clientX:s,clientY:l}=t.touches[0];this.moveX=o||s,this.moveY=i||l,this.setPosition(this.moveX,this.moveY,e)},touchmove(t,e){const{pageX:o,pageY:i,clientX:s,clientY:l}=t.touches[0];this.moveX=o||s,this.moveY=i||l,this.setPosition(this.moveX,this.moveY,e)},touchend(t,e){},setPosition(t,e,o){this.index=o;const{top:i,left:s,width:l,height:a}=this.position[o];this.site[o].left=Math.max(0,Math.min(parseInt(t-s),l)),0===o?(this.site[o].top=Math.max(0,Math.min(parseInt(e-i),a)),this.hsb.s=parseInt(100*this.site[o].left/l),this.hsb.b=parseInt(100-100*this.site[o].top/a),this.setColor(),this.setValue(this.rgba)):this.setControl(o,this.site[o].left)},setColor(){const t=this.HSBToRGB(this.hsb);this.rgba.r=t.r,this.rgba.g=t.g,this.rgba.b=t.b},setValue(t){this.hex="#"+this.rgbToHex(t)},setControl(t,e){const{top:o,left:i,width:s,height:l}=this.position[t];1===t?(this.hsb.h=parseInt(360*e/s),this.bgcolor=this.HSBToRGB({h:this.hsb.h,s:100,b:100}),this.setColor()):this.rgba.a=(e/s).toFixed(1),this.setValue(this.rgba)},rgbToHex(t){let e=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return e.map((function(t,o){1==t.length&&(e[o]="0"+t)})),e.join("")},setColorBySelect(t){const{r:e,g:o,b:i,a:s}=t;let l={};l={r:e?parseInt(e):0,g:o?parseInt(o):0,b:i?parseInt(i):0,a:s||0},this.rgba=l,this.hsb=this.rgbToHsb(l),this.changeViewByHsb()},changeViewByHsb(){const[t,e,o]=this.position;this.site[0].left=parseInt(this.hsb.s*t.width/100),this.site[0].top=parseInt((100-this.hsb.b)*t.height/100),this.setColor(this.hsb.h),this.setValue(this.rgba),this.bgcolor=this.HSBToRGB({h:this.hsb.h,s:100,b:100}),this.site[1].left=this.hsb.h/360*e.width,this.site[2].left=this.rgba.a*o.width},HSBToRGB(t){let e={},o=Math.round(t.h),i=Math.round(255*t.s/100),s=Math.round(255*t.b/100);if(0==i)e.r=e.g=e.b=s;else{let t=s,l=(255-i)*s/255,a=o%60*(t-l)/60;360==o&&(o=0),o<60?(e.r=t,e.b=l,e.g=l+a):o<120?(e.g=t,e.b=l,e.r=t-a):o<180?(e.g=t,e.r=l,e.b=l+a):o<240?(e.b=t,e.r=l,e.g=t-a):o<300?(e.b=t,e.g=l,e.r=l+a):o<360?(e.r=t,e.g=l,e.b=t-a):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}},rgbToHsb(t){let e={h:0,s:0,b:0},o=Math.min(t.r,t.g,t.b),i=Math.max(t.r,t.g,t.b),s=i-o;return e.b=i,e.s=0!=i?255*s/i:0,0!=e.s?t.r==i?e.h=(t.g-t.b)/s:t.g==i?e.h=2+(t.b-t.r)/s:e.h=4+(t.r-t.g)/s:e.h=-1,e.h*=60,e.h<0&&(e.h=0),e.s*=100/255,e.b*=100/255,e},getSelectorQuery(){e().in(this).selectAll(".boxs").boundingClientRect((t=>{t&&0!==t.length?(this.position=t,this.setColorBySelect(this.rgba)):setTimeout((()=>this.getSelectorQuery()),20)})).exec()},hex2Rgb(t,e=1){const o=t.slice(1);return{r:parseInt(o.slice(0,2),16),g:parseInt(o.slice(2,4),16),b:parseInt(o.slice(4,6),16),a:e}}},watch:{spareColor(t){this.colorList=t},color(t){this.ready()}}},[["render",function(t,e,m,p,k,C){const x=g;return k.show?(o(),i(x,{key:0,class:"t-wrapper",onTouchmove:n(C.moveHandle,["stop","prevent"])},{default:s((()=>[l(x,{class:a(["t-mask",{active:k.active}]),onClick:n(C.close,["stop"])},null,8,["class","onClick"]),l(x,{class:a(["t-box",{active:k.active}])},{default:s((()=>[l(x,{class:"t-header"},{default:s((()=>[l(x,{class:"t-header-button",onClick:C.close},{default:s((()=>[r("取消")])),_:1},8,["onClick"]),l(x,{class:"t-header-button",onClick:C.confirm},{default:s((()=>[r("确认")])),_:1},8,["onClick"])])),_:1}),l(x,{class:"t-color__box",style:c({background:"rgb("+k.bgcolor.r+","+k.bgcolor.g+","+k.bgcolor.b+")"})},{default:s((()=>[l(x,{class:"t-background boxs",onTouchstart:e[0]||(e[0]=t=>C.touchstart(t,0)),onTouchmove:e[1]||(e[1]=t=>C.touchmove(t,0)),onTouchend:e[2]||(e[2]=t=>C.touchend(t,0))},{default:s((()=>[l(x,{class:"t-color-mask"}),l(x,{class:"t-pointer",style:c({top:k.site[0].top-8+"px",left:k.site[0].left-8+"px"})},null,8,["style"])])),_:1})])),_:1},8,["style"]),l(x,{class:"t-control__box"},{default:s((()=>[l(x,{class:"t-control__color"},{default:s((()=>[l(x,{class:"t-control__color-content",style:c({background:"rgba("+k.rgba.r+","+k.rgba.g+","+k.rgba.b+","+k.rgba.a+")"})},null,8,["style"])])),_:1}),l(x,{class:"t-control-box__item"},{default:s((()=>[l(x,{class:"t-controller boxs",onTouchstart:e[3]||(e[3]=t=>C.touchstart(t,1)),onTouchmove:e[4]||(e[4]=t=>C.touchmove(t,1)),onTouchend:e[5]||(e[5]=t=>C.touchend(t,1))},{default:s((()=>[l(x,{class:"t-hue"},{default:s((()=>[l(x,{class:"t-circle",style:c({left:k.site[1].left-12+"px"})},null,8,["style"])])),_:1})])),_:1}),l(x,{class:"t-controller boxs",onTouchstart:e[6]||(e[6]=t=>C.touchstart(t,2)),onTouchmove:e[7]||(e[7]=t=>C.touchmove(t,2)),onTouchend:e[8]||(e[8]=t=>C.touchend(t,2))},{default:s((()=>[l(x,{class:"t-transparency"},{default:s((()=>[l(x,{class:"t-circle",style:c({left:k.site[2].left-12+"px"})},null,8,["style"])])),_:1})])),_:1})])),_:1})])),_:1}),l(x,{class:"t-result__box"},{default:s((()=>[k.mode?(o(),i(x,{key:0,class:"t-result__item"},{default:s((()=>[l(x,{class:"t-result__box-input"},{default:s((()=>[r(d(k.hex),1)])),_:1}),l(x,{class:"t-result__box-text"},{default:s((()=>[r("HEX")])),_:1})])),_:1})):(o(),u(h,{key:1},[l(x,{class:"t-result__item"},{default:s((()=>[l(x,{class:"t-result__box-input"},{default:s((()=>[r(d(k.rgba.r),1)])),_:1}),l(x,{class:"t-result__box-text"},{default:s((()=>[r("R")])),_:1})])),_:1}),l(x,{class:"t-result__item"},{default:s((()=>[l(x,{class:"t-result__box-input"},{default:s((()=>[r(d(k.rgba.g),1)])),_:1}),l(x,{class:"t-result__box-text"},{default:s((()=>[r("G")])),_:1})])),_:1}),l(x,{class:"t-result__item"},{default:s((()=>[l(x,{class:"t-result__box-input"},{default:s((()=>[r(d(k.rgba.b),1)])),_:1}),l(x,{class:"t-result__box-text"},{default:s((()=>[r("B")])),_:1})])),_:1}),l(x,{class:"t-result__item"},{default:s((()=>[l(x,{class:"t-result__box-input"},{default:s((()=>[r(d(k.rgba.a),1)])),_:1}),l(x,{class:"t-result__box-text"},{default:s((()=>[r("A")])),_:1})])),_:1})],64)),l(x,{class:"t-result__item t-select",onClick:C.select},{default:s((()=>[l(x,{class:"t-result__box-input"},{default:s((()=>[l(x,null,{default:s((()=>[r("切换")])),_:1}),l(x,null,{default:s((()=>[r("模式")])),_:1})])),_:1})])),_:1},8,["onClick"])])),_:1}),l(x,{class:"t-alternative"},{default:s((()=>[(o(!0),u(h,null,b(k.colorList,((t,e)=>(o(),i(x,{class:"t-alternative__item",key:e},{default:s((()=>[l(x,{class:"t-alternative__item-content",style:c({background:"rgba("+t.r+","+t.g+","+t.b+","+t.a+")"}),onClick:e=>C.selectColor(t)},null,8,["style","onClick"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["class"])])),_:1},8,["onTouchmove"])):f("",!0)}],["__scopeId","data-v-6f8707e5"]]),LinkEdit:t({data:()=>({showPopup:!1,descVal:"",addrVal:""}),methods:{open(){this.showPopup=!0,this.$emit("open")},close(){this.showPopup=!1,this.descVal="",this.addrVal="",this.$emit("close")},onConfirm(){this.descVal?this.addrVal?(this.$emit("confirm",{text:this.descVal,href:this.addrVal}),this.close()):m({title:"请输入链接地址",icon:"none"}):m({title:"请输入链接描述",icon:"none"})}}},[["render",function(t,e,a,n,c,d){const u=g,h=p;return c.showPopup?(o(),i(u,{key:0,class:"link-edit-container"},{default:s((()=>[l(u,{class:"link-edit"},{default:s((()=>[l(u,{class:"title"},{default:s((()=>[r("添加链接")])),_:1}),l(u,{class:"edit"},{default:s((()=>[l(u,{class:"description"},{default:s((()=>[r(" 链接描述： "),l(h,{modelValue:c.descVal,"onUpdate:modelValue":e[0]||(e[0]=t=>c.descVal=t),type:"text",class:"input",placeholder:"请输入链接描述"},null,8,["modelValue"])])),_:1}),l(u,{class:"address"},{default:s((()=>[r(" 链接地址： "),l(h,{modelValue:c.addrVal,"onUpdate:modelValue":e[1]||(e[1]=t=>c.addrVal=t),type:"text",class:"input",placeholder:"请输入链接地址"},null,8,["modelValue"])])),_:1})])),_:1}),l(u,{class:"control"},{default:s((()=>[l(u,{class:"cancel",onClick:d.close},{default:s((()=>[r("取消")])),_:1},8,["onClick"]),l(u,{class:"confirm",onClick:d.onConfirm},{default:s((()=>[r("确认")])),_:1},8,["onClick"])])),_:1})])),_:1}),l(u,{class:"mask"})])),_:1})):f("",!0)}],["__scopeId","data-v-d3700a48"]])},props:{editorId:{type:String,default:"editor"},placeholder:{type:String,default:"写点什么吧 ~"},readOnly:{type:Boolean,default:!1},maxlength:{type:Number,default:-1},toolbarConfig:{type:Object,default:()=>({keys:[],excludeKeys:[],iconSize:"18px",iconColumns:10})}},watch:{toolbarConfig:{deep:!0,immediate:!0,handler(t){var e,o;(null==(e=t.keys)?void 0:e.length)>0?this.toolbarList=t.keys:this.toolbarList=(null==(o=t.excludeKeys)?void 0:o.length)>0?this.toolbarAllList.filter((e=>!t.excludeKeys.includes(e))):this.toolbarAllList,this.iconSize=t.iconSize||"18px",this.iconColumns=t.iconColumns||10}}},data:()=>({formats:{},textColor:"",backgroundColor:"",curColor:"",defaultColor:{r:0,g:0,b:0,a:1},iconSize:"20px",iconColumns:10,toolbarList:[],toolbarAllList:["bold","italic","underline","strike","alignLeft","alignCenter","alignRight","alignJustify","lineHeight","letterSpacing","marginTop","marginBottom","fontFamily","fontSize","color","backgroundColor","date","listCheck","listOrdered","listBullet","indentInc","indentDec","divider","header","scriptSub","scriptSuper","direction","image","link","undo","redo","removeFormat","clear","export"]}),methods:{onEditorReady(){e().in(this).select("#"+this.editorId).context((t=>{this.editorCtx=t.context,this.$emit("init",this.editorCtx,this.editorId)})).exec()},undo(){this.editorCtx.undo()},redo(){this.editorCtx.redo()},format(t){let{name:e,value:o}=t.target.dataset;if(e)switch(e){case"color":case"backgroundColor":this.curColor=e,this.showPicker();break;default:this.editorCtx.format(e,o)}},showPicker(){switch(this.curColor){case"color":this.defaultColor=this.textColor?this.$refs.colorPickerRef.hex2Rgb(this.textColor):{r:0,g:0,b:0,a:1};break;case"backgroundColor":this.defaultColor=this.backgroundColor?this.$refs.colorPickerRef.hex2Rgb(this.backgroundColor):{r:0,g:0,b:0,a:0}}this.$refs.colorPickerRef.open()},confirmColor(t){switch(this.curColor){case"color":this.textColor=t.hex,this.editorCtx.format("color",this.textColor);break;case"backgroundColor":this.backgroundColor=t.hex,this.editorCtx.format("backgroundColor",this.backgroundColor)}},onStatusChange(t){t.detail.color&&(this.textColor=t.detail.color),t.detail.backgroundColor&&(this.backgroundColor=t.detail.backgroundColor),this.formats=t.detail},insertDivider(){this.editorCtx.insertDivider()},clear(){k({title:"清空编辑器",content:"确定清空编辑器吗？",success:({confirm:t})=>{t&&this.editorCtx.clear()}})},removeFormat(){k({title:"文本格式化",content:"确定要清除所选择部分文本块格式吗？",showCancel:!0,success:({confirm:t})=>{t&&this.editorCtx.removeFormat()}})},insertDate(){const t=new Date,e=`${t.getFullYear()}/${t.getMonth()+1}/${t.getDate()}`;this.editorCtx.insertText({text:e})},insertLink(){this.$refs.linkEditRef.open()},confirmLink(t){var e,o;this.$refs.linkEditRef.close(),e=this.editorCtx,o=t,e.insertText({text:S}),e.getContents({success(t){let i=t.delta.ops;const s=i.findIndex((t=>{var e;return t.insert&&"object"!=typeof t.insert&&-1!==(null==(e=t.insert)?void 0:e.indexOf(S))}));if(s>-1){const t=i[s],l=t.attributes,[a,n]=t.insert.split(S),r=[];if(a){const t=l?{insert:a,attributes:l}:{insert:a};r.push(t)}const c={insert:o.text,attributes:{link:o.href,textDecoration:o.textDecoration||"none",color:o.color||"#007aff"}};if(r.push(c),n){const t=l?{insert:n,attributes:l}:{insert:n};r.push(t)}i.splice(s,1),i.splice(s,0,...r),e.setContents({delta:{ops:i}}),e.blur()}}}),this.$emit("addLink",t,this.editorId),this.editorCtx.getContents({success:t=>{this.$emit("input",{html:t.html,text:t.text},this.editorId)}})},insertImage(){C({success:t=>{const{tempFiles:e}=t;this.$emit("upinImage",e,this.editorCtx,this.editorId)},fail(){m({title:"未授权访问相册权限，请授权后使用",icon:"none"})}})},onEditorInput(t){if(Object.keys(t.detail).length<=0)return;const{html:e,text:o}=t.detail;if(-1!==o.indexOf(S))return;const i=parseInt(this.maxlength);o.replace(/[ \t\r\n]/g,"").length>i&&-1!=i?k({content:`超过${i}字数啦~`,confirmText:"确定",showCancel:!1,success:()=>{this.$emit("overMax",{html:e,text:o},this.editorId)}}):this.$emit("input",{html:e,text:o},this.editorId)},exportHtml(){this.editorCtx.getContents({success:t=>{this.$emit("exportHtml",t.html,this.editorId)}})},eLongpress(){}}},[["render",function(t,e,n,r,d,u){const h=g,b=x("color-picker"),m=x("link-edit"),p=y;return o(),i(h,{class:"sp-editor",style:c({"--icon-size":d.iconSize,"--icon-columns":d.iconColumns})},{default:s((()=>[n.readOnly?f("",!0):(o(),i(h,{key:0,class:"sp-editor-toolbar",onClick:u.format},{default:s((()=>[d.toolbarList.includes("header")?(o(),i(h,{key:0,class:a([1===d.formats.header?"ql-active":"","iconfont icon-format-header-1"]),title:"标题","data-name":"header","data-value":1},null,8,["class"])):f("",!0),d.toolbarList.includes("bold")?(o(),i(h,{key:1,class:a([d.formats.bold?"ql-active":"","iconfont icon-zitijiacu"]),title:"加粗","data-name":"bold"},null,8,["class"])):f("",!0),d.toolbarList.includes("italic")?(o(),i(h,{key:2,class:a([d.formats.italic?"ql-active":"","iconfont icon-zitixieti"]),title:"斜体","data-name":"italic"},null,8,["class"])):f("",!0),d.toolbarList.includes("underline")?(o(),i(h,{key:3,class:a([d.formats.underline?"ql-active":"","iconfont icon-zitixiahuaxian"]),title:"下划线","data-name":"underline"},null,8,["class"])):f("",!0),d.toolbarList.includes("strike")?(o(),i(h,{key:4,class:a([d.formats.strike?"ql-active":"","iconfont icon-zitishanchuxian"]),title:"删除线","data-name":"strike"},null,8,["class"])):f("",!0),d.toolbarList.includes("alignLeft")?(o(),i(h,{key:5,class:a(["left"===d.formats.align?"ql-active":"","iconfont icon-zuoduiqi"]),title:"左对齐","data-name":"align","data-value":"left"},null,8,["class"])):f("",!0),d.toolbarList.includes("alignCenter")?(o(),i(h,{key:6,class:a(["center"===d.formats.align?"ql-active":"","iconfont icon-juzhongduiqi"]),title:"居中对齐","data-name":"align","data-value":"center"},null,8,["class"])):f("",!0),d.toolbarList.includes("alignRight")?(o(),i(h,{key:7,class:a(["right"===d.formats.align?"ql-active":"","iconfont icon-youduiqi"]),title:"右对齐","data-name":"align","data-value":"right"},null,8,["class"])):f("",!0),d.toolbarList.includes("alignJustify")?(o(),i(h,{key:8,class:a(["justify"===d.formats.align?"ql-active":"","iconfont icon-zuoyouduiqi"]),title:"两端对齐","data-name":"align","data-value":"justify"},null,8,["class"])):f("",!0),d.toolbarList.includes("lineHeight")?(o(),i(h,{key:9,class:a([d.formats.lineHeight?"ql-active":"","iconfont icon-line-height"]),title:"行间距","data-name":"lineHeight","data-value":"2"},null,8,["class"])):f("",!0),d.toolbarList.includes("letterSpacing")?(o(),i(h,{key:10,class:a([d.formats.letterSpacing?"ql-active":"","iconfont icon-Character-Spacing"]),title:"字间距","data-name":"letterSpacing","data-value":"2em"},null,8,["class"])):f("",!0),d.toolbarList.includes("marginTop")?(o(),i(h,{key:11,class:a([d.formats.marginTop?"ql-active":"","iconfont icon-722bianjiqi_duanqianju"]),title:"段前距","data-name":"marginTop","data-value":"20px"},null,8,["class"])):f("",!0),d.toolbarList.includes("marginBottom")?(o(),i(h,{key:12,class:a([d.formats.marginBottom?"ql-active":"","iconfont icon-723bianjiqi_duanhouju"]),title:"段后距","data-name":"marginBottom","data-value":"20px"},null,8,["class"])):f("",!0),d.toolbarList.includes("fontSize")?(o(),i(h,{key:13,class:a([d.formats.fontFamily?"ql-active":"","iconfont icon-font"]),title:"字体","data-name":"fontFamily","data-value":"宋体"},null,8,["class"])):f("",!0),d.toolbarList.includes("fontSize")?(o(),i(h,{key:14,class:a(["24px"===d.formats.fontSize?"ql-active":"","iconfont icon-fontsize"]),title:"字号","data-name":"fontSize","data-value":"24px"},null,8,["class"])):f("",!0),d.toolbarList.includes("color")?(o(),i(h,{key:15,style:c({color:d.formats.color?d.textColor:"initial"}),class:"iconfont icon-text_color",title:"文字颜色","data-name":"color","data-value":d.textColor},null,8,["style","data-value"])):f("",!0),d.toolbarList.includes("backgroundColor")?(o(),i(h,{key:16,style:c({color:d.formats.backgroundColor?d.backgroundColor:"initial"}),class:"iconfont icon-fontbgcolor",title:"背景颜色","data-name":"backgroundColor","data-value":d.backgroundColor},null,8,["style","data-value"])):f("",!0),d.toolbarList.includes("date")?(o(),i(h,{key:17,class:"iconfont icon-date",title:"日期",onClick:u.insertDate},null,8,["onClick"])):f("",!0),d.toolbarList.includes("listCheck")?(o(),i(h,{key:18,class:"iconfont icon--checklist",title:"待办","data-name":"list","data-value":"check"})):f("",!0),d.toolbarList.includes("listOrdered")?(o(),i(h,{key:19,class:a(["ordered"===d.formats.list?"ql-active":"","iconfont icon-youxupailie"]),title:"有序列表","data-name":"list","data-value":"ordered"},null,8,["class"])):f("",!0),d.toolbarList.includes("listBullet")?(o(),i(h,{key:20,class:a(["bullet"===d.formats.list?"ql-active":"","iconfont icon-wuxupailie"]),title:"无序列表","data-name":"list","data-value":"bullet"},null,8,["class"])):f("",!0),d.toolbarList.includes("divider")?(o(),i(h,{key:21,class:"iconfont icon-fengexian",title:"分割线",onClick:u.insertDivider},null,8,["onClick"])):f("",!0),d.toolbarList.includes("indentDec")?(o(),i(h,{key:22,class:"iconfont icon-outdent",title:"减少缩进","data-name":"indent","data-value":"-1"})):f("",!0),d.toolbarList.includes("indentInc")?(o(),i(h,{key:23,class:"iconfont icon-indent",title:"增加缩进","data-name":"indent","data-value":"+1"})):f("",!0),d.toolbarList.includes("scriptSub")?(o(),i(h,{key:24,class:a(["sub"===d.formats.script?"ql-active":"","iconfont icon-zitixiabiao"]),title:"下标","data-name":"script","data-value":"sub"},null,8,["class"])):f("",!0),d.toolbarList.includes("scriptSuper")?(o(),i(h,{key:25,class:a(["super"===d.formats.script?"ql-active":"","iconfont icon-zitishangbiao"]),title:"上标","data-name":"script","data-value":"super"},null,8,["class"])):f("",!0),d.toolbarList.includes("direction")?(o(),i(h,{key:26,class:a(["rtl"===d.formats.direction?"ql-active":"","iconfont icon-direction-rtl"]),title:"文本方向","data-name":"direction","data-value":"rtl"},null,8,["class"])):f("",!0),d.toolbarList.includes("image")?(o(),i(h,{key:27,class:"iconfont icon-charutupian",title:"图片",onClick:u.insertImage},null,8,["onClick"])):f("",!0),d.toolbarList.includes("link")?(o(),i(h,{key:28,class:"iconfont icon-charulianjie",title:"超链接",onClick:u.insertLink},null,8,["onClick"])):f("",!0),d.toolbarList.includes("undo")?(o(),i(h,{key:29,class:"iconfont icon-undo",title:"撤销",onClick:u.undo},null,8,["onClick"])):f("",!0),d.toolbarList.includes("redo")?(o(),i(h,{key:30,class:"iconfont icon-redo",title:"重做",onClick:u.redo},null,8,["onClick"])):f("",!0),d.toolbarList.includes("removeFormat")?(o(),i(h,{key:31,class:"iconfont icon-clearedformat",title:"清除格式",onClick:u.removeFormat},null,8,["onClick"])):f("",!0),d.toolbarList.includes("clear")?(o(),i(h,{key:32,class:"iconfont icon-shanchu",title:"清空",onClick:u.clear},null,8,["onClick"])):f("",!0),d.toolbarList.includes("export")?(o(),i(h,{key:33,class:"iconfont icon-baocun",title:"导出",onClick:u.exportHtml},null,8,["onClick"])):f("",!0)])),_:1},8,["onClick"])),d.toolbarList.includes("color")||d.toolbarList.includes("backgroundColor")?(o(),i(b,{key:1,ref:"colorPickerRef",color:d.defaultColor,onConfirm:u.confirmColor},null,8,["color","onConfirm"])):f("",!0),d.toolbarList.includes("link")&&!n.readOnly?(o(),i(m,{key:2,ref:"linkEditRef",onConfirm:u.confirmLink},null,8,["onConfirm"])):f("",!0),l(h,{class:"sp-editor-wrapper",onLongpress:u.eLongpress},{default:s((()=>[l(p,{id:n.editorId,class:a(["ql-editor editor-container",{"ql-image-overlay-none":n.readOnly}]),"show-img-size":"","show-img-toolbar":"","show-img-resize":"",placeholder:n.placeholder,"read-only":n.readOnly,onStatuschange:u.onStatusChange,onReady:u.onEditorReady,onInput:u.onEditorInput},null,8,["id","class","placeholder","read-only","onStatuschange","onReady","onInput"])])),_:1},8,["onLongpress"])])),_:1},8,["style"])}],["__scopeId","data-v-1f50c36d"]]),w={__name:"index",setup(t){const e=_(null);function a(t){}function n(t){}function r(t){e.value=t,setTimeout((()=>{e.value.setContents({html:'<div>&nbsp;&nbsp;猫猫<img src="https://img.yzcdn.cn/vant/cat.jpeg"/></div>'})}),1e3)}function c(t,e){e.insertImage({src:t[0].path,width:"80%",success:function(){}})}function d(t){v({url:"/pages/out/out",success(e){e.eventChannel.emit("e-transmit-html",{data:t})}})}function u(t){}return(t,e)=>{const h=L(I("sp-editor"),T),b=g,f=x("layout-demo-uni");return o(),i(f,null,{default:s((()=>[l(b,{class:"home"},{default:s((()=>[l(b,{class:"editor-box"},{default:s((()=>[l(h,{"toolbar-config":{excludeKeys:["direction","date","lineHeight","letterSpacing","listCheck"],iconSize:"18px"},onInit:r,onInput:a,onUpinImage:c,onOverMax:n,onAddLink:u,onExportHtml:d})])),_:1})])),_:1})])),_:1})}}};export{w as default};
